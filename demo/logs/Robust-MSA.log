[2023-07-25 14:37:15] - INFO - Stopping Media Server...
[2023-07-25 14:37:15] - INFO - Stopping WSGI Server...
[2023-07-25 14:37:15] - INFO - WSGI Server stopped.
[2023-07-25 14:37:15] - INFO - Media Server stopped.
[2023-07-25 14:37:15] - INFO - ========================= Program Stopped =========================
[2023-07-26 15:30:30] - INFO - ========================= Program Started =========================
[2023-07-26 15:30:30] - INFO - [PID: 2760037] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-26 15:30:30] - INFO - Starting WSGI Server on port 4096...
[2023-07-26 15:33:58] - INFO - Stopping Media Server...
[2023-07-26 15:33:58] - INFO - Media Server stopped.
[2023-07-26 15:33:58] - INFO - Stopping WSGI Server...
[2023-07-26 15:33:58] - INFO - WSGI Server stopped.
[2023-07-26 15:33:58] - INFO - ========================= Program Stopped =========================
[2023-07-26 15:34:07] - INFO - ========================= Program Started =========================
[2023-07-26 15:34:07] - INFO - [PID: 2763270] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-26 15:34:07] - INFO - Starting WSGI Server on port 4096...
[2023-07-26 15:55:19] - INFO - API called: /uploadVideo
[2023-07-26 15:55:19] - INFO - Uploaded video, ID: 20230726155519127
[2023-07-26 15:55:19] - INFO - Converting video 20230726155519127 to mp4...
[2023-07-26 15:55:19] - INFO - Conversion done.
[2023-07-26 15:55:19] - INFO - API called: /callASR
[2023-07-26 15:55:19] - INFO - Extracting audio from 20230726155519127...
[2023-07-26 15:55:19] - INFO - Extraction done.
[2023-07-26 15:55:19] - INFO - Running ASR for 20230726155519127...
[2023-07-26 15:55:25] - INFO - ASR done.
[2023-07-26 15:55:30] - INFO - API called: /uploadTranscript
[2023-07-26 15:55:30] - INFO - Running alignment for 20230726155519127...
[2023-07-26 15:55:32] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 15:55:32] - INFO - Alignment done.
[2023-07-26 15:55:47] - INFO - API called: /videoEditAligned
[2023-07-26 15:55:47] - INFO - Editing video 20230726155519127...
[2023-07-26 15:56:44] - INFO - API called: /runMSAAligned
[2023-07-26 15:57:05] - INFO - 
[2023-07-26 15:57:05] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-26 15:57:05] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-26 15:57:05] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-26 15:57:05] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-26 15:57:09] - INFO - Data-Level Defence for 20230726155519127...
[2023-07-26 15:57:19] - INFO - Extracting features from original video 20230726155519127...
[2023-07-26 15:57:23] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-26 15:57:23] - INFO - Initializing OpenFace video feature extractor...
[2023-07-26 15:57:23] - INFO - Initializing BERT text feature extractor...
[2023-07-26 15:57:24] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-26 15:57:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726155519127/raw_video.mp4'.
[2023-07-26 15:57:28] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 15:57:28] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726155519127/feat_original.pkl'.
[2023-07-26 15:57:48] - INFO - Extracting features from modified video 20230726155519127...
[2023-07-26 15:57:50] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726155519127/modified_video.mp4'.
[2023-07-26 15:57:52] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 15:57:52] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726155519127/feat_modified.pkl'.
[2023-07-26 16:00:45] - INFO - Feature-Level Defence for 20230726155519127...
[2023-07-26 16:00:45] - INFO - Running MSA models for 20230726155519127...
[2023-07-26 16:04:15] - INFO - ========================= Program Started =========================
[2023-07-26 16:04:15] - INFO - [PID: 2790547] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-26 16:04:15] - INFO - Starting WSGI Server on port 4096...
[2023-07-26 16:04:23] - INFO - API called: /uploadVideo
[2023-07-26 16:04:23] - INFO - Uploaded video, ID: 20230726160423133
[2023-07-26 16:04:23] - INFO - Converting video 20230726160423133 to mp4...
[2023-07-26 16:04:23] - INFO - Conversion done.
[2023-07-26 16:04:23] - INFO - API called: /callASR
[2023-07-26 16:04:23] - INFO - Extracting audio from 20230726160423133...
[2023-07-26 16:04:23] - INFO - Extraction done.
[2023-07-26 16:04:23] - INFO - Running ASR for 20230726160423133...
[2023-07-26 16:04:28] - INFO - ASR done.
[2023-07-26 16:04:30] - INFO - API called: /uploadTranscript
[2023-07-26 16:04:30] - INFO - Running alignment for 20230726160423133...
[2023-07-26 16:04:32] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 16:04:32] - INFO - Alignment done.
[2023-07-26 16:04:38] - INFO - API called: /videoEditAligned
[2023-07-26 16:04:38] - INFO - Editing video 20230726160423133...
[2023-07-26 17:05:19] - INFO - API called: /runMSAAligned
[2023-07-26 17:05:19] - INFO - 
[2023-07-26 17:05:19] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-26 17:05:19] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-26 17:05:19] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-26 17:05:19] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-26 17:05:19] - INFO - Data-Level Defence for 20230726160423133...
[2023-07-26 17:05:19] - INFO - Extracting features from original video 20230726160423133...
[2023-07-26 17:05:19] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-26 17:05:19] - INFO - Initializing OpenFace video feature extractor...
[2023-07-26 17:05:19] - INFO - Initializing BERT text feature extractor...
[2023-07-26 17:05:20] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-26 17:05:23] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726160423133/raw_video.mp4'.
[2023-07-26 17:05:25] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:05:25] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726160423133/feat_original.pkl'.
[2023-07-26 17:05:25] - INFO - Extracting features from modified video 20230726160423133...
[2023-07-26 17:05:25] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726160423133/modified_video.mp4'.
[2023-07-26 17:05:28] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:05:28] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726160423133/feat_modified.pkl'.
[2023-07-26 17:05:28] - INFO - Feature-Level Defence for 20230726160423133...
[2023-07-26 17:05:28] - INFO - Running MSA models for 20230726160423133...
[2023-07-26 17:09:33] - INFO - API called: /uploadVideo
[2023-07-26 17:09:33] - INFO - Uploaded video, ID: 20230726170933223
[2023-07-26 17:09:33] - INFO - Converting video 20230726170933223 to mp4...
[2023-07-26 17:09:33] - INFO - Conversion done.
[2023-07-26 17:09:33] - INFO - API called: /callASR
[2023-07-26 17:09:33] - INFO - Extracting audio from 20230726170933223...
[2023-07-26 17:09:33] - INFO - Extraction done.
[2023-07-26 17:09:33] - INFO - Running ASR for 20230726170933223...
[2023-07-26 17:09:36] - INFO - ASR done.
[2023-07-26 17:09:41] - INFO - API called: /uploadTranscript
[2023-07-26 17:09:41] - INFO - Running alignment for 20230726170933223...
[2023-07-26 17:09:43] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:09:43] - INFO - Alignment done.
[2023-07-26 17:09:51] - INFO - API called: /videoEditAligned
[2023-07-26 17:09:51] - INFO - Editing video 20230726170933223...
[2023-07-26 17:10:36] - INFO - API called: /runMSAAligned
[2023-07-26 17:10:36] - INFO - 
[2023-07-26 17:10:36] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-26 17:10:36] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-26 17:10:36] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-26 17:10:36] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-26 17:10:36] - INFO - Data-Level Defence for 20230726170933223...
[2023-07-26 17:10:36] - INFO - Extracting features from original video 20230726170933223...
[2023-07-26 17:10:36] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-26 17:10:36] - INFO - Initializing OpenFace video feature extractor...
[2023-07-26 17:10:36] - INFO - Initializing BERT text feature extractor...
[2023-07-26 17:10:37] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-26 17:10:40] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726170933223/raw_video.mp4'.
[2023-07-26 17:10:42] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:10:42] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726170933223/feat_original.pkl'.
[2023-07-26 17:10:42] - INFO - Extracting features from modified video 20230726170933223...
[2023-07-26 17:10:42] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726170933223/modified_video.mp4'.
[2023-07-26 17:10:45] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:10:45] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726170933223/feat_modified.pkl'.
[2023-07-26 17:10:45] - INFO - Feature-Level Defence for 20230726170933223...
[2023-07-26 17:10:45] - INFO - Running MSA models for 20230726170933223...
[2023-07-26 17:10:45] - ERROR - [Errno 2] No such file or directory: '/home/zhangbaozheng/emotional/Robust-MSA/assets/weights/lmf-mosei.pth'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 560, in run_msa_aligned
    r = MMSA_test(config, weights_root_path / f"{m}-mosei.pth", feat_original_path, gpu_id=-1)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MMSA/run.py", line 323, in MMSA_test
    model.load_state_dict(torch.load(weights_path), strict=False)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/serialization.py", line 771, in load
    with _open_file_like(f, 'rb') as opened_file:
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/serialization.py", line 270, in _open_file_like
    return _open_file(name_or_buffer, mode)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/serialization.py", line 251, in __init__
    super(_open_file, self).__init__(open(name, mode))
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/emotional/Robust-MSA/assets/weights/lmf-mosei.pth'
[2023-07-26 17:11:00] - INFO - API called: /uploadVideo
[2023-07-26 17:11:00] - INFO - Uploaded video, ID: 20230726171100851
[2023-07-26 17:11:00] - INFO - Converting video 20230726171100851 to mp4...
[2023-07-26 17:11:00] - INFO - Conversion done.
[2023-07-26 17:11:00] - INFO - API called: /callASR
[2023-07-26 17:11:00] - INFO - Extracting audio from 20230726171100851...
[2023-07-26 17:11:00] - INFO - Extraction done.
[2023-07-26 17:11:00] - INFO - Running ASR for 20230726171100851...
[2023-07-26 17:11:03] - INFO - ASR done.
[2023-07-26 17:11:05] - INFO - API called: /uploadTranscript
[2023-07-26 17:11:05] - INFO - Running alignment for 20230726171100851...
[2023-07-26 17:11:07] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:11:07] - INFO - Alignment done.
[2023-07-26 17:11:19] - INFO - API called: /videoEditAligned
[2023-07-26 17:11:19] - INFO - Editing video 20230726171100851...
[2023-07-26 17:11:19] - INFO - Editing audio 20230726171100851...
[2023-07-26 17:11:22] - INFO - API called: /runMSAAligned
[2023-07-26 17:11:22] - INFO - 
[2023-07-26 17:11:22] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-26 17:11:22] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-26 17:11:22] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-26 17:11:22] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-26 17:11:22] - INFO - Data-Level Defence for 20230726171100851...
[2023-07-26 17:11:22] - INFO - Extracting features from original video 20230726171100851...
[2023-07-26 17:11:22] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-26 17:11:22] - INFO - Initializing OpenFace video feature extractor...
[2023-07-26 17:11:22] - INFO - Initializing BERT text feature extractor...
[2023-07-26 17:11:23] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-26 17:11:25] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171100851/raw_video.mp4'.
[2023-07-26 17:11:27] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:11:27] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171100851/feat_original.pkl'.
[2023-07-26 17:11:27] - INFO - Extracting features from modified video 20230726171100851...
[2023-07-26 17:11:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171100851/modified_video.mp4'.
[2023-07-26 17:11:29] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:11:29] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171100851/feat_modified.pkl'.
[2023-07-26 17:11:29] - INFO - Feature-Level Defence for 20230726171100851...
[2023-07-26 17:11:29] - INFO - Running MSA models for 20230726171100851...
[2023-07-26 17:11:30] - ERROR - [Errno 2] No such file or directory: '/home/zhangbaozheng/emotional/Robust-MSA/assets/weights/lmf-mosei.pth'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 560, in run_msa_aligned
    r = MMSA_test(config, weights_root_path / f"{m}-mosei.pth", feat_original_path, gpu_id=-1)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MMSA/run.py", line 323, in MMSA_test
    model.load_state_dict(torch.load(weights_path), strict=False)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/serialization.py", line 771, in load
    with _open_file_like(f, 'rb') as opened_file:
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/serialization.py", line 270, in _open_file_like
    return _open_file(name_or_buffer, mode)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/serialization.py", line 251, in __init__
    super(_open_file, self).__init__(open(name, mode))
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/emotional/Robust-MSA/assets/weights/lmf-mosei.pth'
[2023-07-26 17:12:30] - INFO - API called: /uploadVideo
[2023-07-26 17:12:30] - INFO - Uploaded video, ID: 20230726171230642
[2023-07-26 17:12:30] - INFO - Converting video 20230726171230642 to mp4...
[2023-07-26 17:12:30] - INFO - Conversion done.
[2023-07-26 17:12:30] - INFO - API called: /callASR
[2023-07-26 17:12:30] - INFO - Extracting audio from 20230726171230642...
[2023-07-26 17:12:30] - INFO - Extraction done.
[2023-07-26 17:12:30] - INFO - Running ASR for 20230726171230642...
[2023-07-26 17:12:33] - INFO - ASR done.
[2023-07-26 17:12:35] - INFO - API called: /uploadTranscript
[2023-07-26 17:12:35] - INFO - Running alignment for 20230726171230642...
[2023-07-26 17:12:37] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:12:37] - INFO - Alignment done.
[2023-07-26 17:12:45] - INFO - API called: /videoEditAligned
[2023-07-26 17:12:45] - INFO - Editing video 20230726171230642...
[2023-07-26 17:12:48] - INFO - API called: /runMSAAligned
[2023-07-26 17:12:48] - INFO - 
[2023-07-26 17:12:48] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-26 17:12:48] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-26 17:12:48] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-26 17:12:48] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-26 17:12:48] - INFO - Data-Level Defence for 20230726171230642...
[2023-07-26 17:12:48] - INFO - Extracting features from original video 20230726171230642...
[2023-07-26 17:12:48] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-26 17:12:48] - INFO - Initializing OpenFace video feature extractor...
[2023-07-26 17:12:48] - INFO - Initializing BERT text feature extractor...
[2023-07-26 17:12:50] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-26 17:12:52] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171230642/raw_video.mp4'.
[2023-07-26 17:12:54] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:12:54] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171230642/feat_original.pkl'.
[2023-07-26 17:12:54] - INFO - Extracting features from modified video 20230726171230642...
[2023-07-26 17:12:54] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171230642/modified_video.mp4'.
[2023-07-26 17:12:57] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-26 17:12:57] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230726171230642/feat_modified.pkl'.
[2023-07-26 17:12:57] - INFO - Feature-Level Defence for 20230726171230642...
[2023-07-26 17:12:57] - INFO - Running MSA models for 20230726171230642...
[2023-07-27 11:27:02] - INFO - API called: /uploadVideo
[2023-07-27 11:27:02] - INFO - Uploaded video, ID: 20230727112702801
[2023-07-27 11:27:02] - INFO - Converting video 20230727112702801 to mp4...
[2023-07-27 11:27:03] - INFO - Conversion done.
[2023-07-27 11:27:03] - INFO - API called: /callASR
[2023-07-27 11:27:03] - INFO - Extracting audio from 20230727112702801...
[2023-07-27 11:27:03] - INFO - Extraction done.
[2023-07-27 11:27:03] - INFO - Running ASR for 20230727112702801...
[2023-07-27 11:27:05] - INFO - ASR done.
[2023-07-27 11:27:11] - INFO - API called: /uploadTranscript
[2023-07-27 11:27:11] - INFO - Running alignment for 20230727112702801...
[2023-07-27 11:27:13] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 11:27:13] - INFO - Alignment done.
[2023-07-27 16:03:15] - INFO - Stopping Media Server...
[2023-07-27 16:03:15] - INFO - Stopping WSGI Server...
[2023-07-27 16:03:15] - INFO - WSGI Server stopped.
[2023-07-27 16:03:15] - INFO - Media Server stopped.
[2023-07-27 16:03:15] - INFO - ========================= Program Stopped =========================
[2023-07-27 16:03:30] - INFO - ========================= Program Started =========================
[2023-07-27 16:03:30] - INFO - [PID: 3001354] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-27 16:03:30] - INFO - Starting WSGI Server on port 4096...
[2023-07-27 16:04:29] - INFO - API called: /uploadVideo
[2023-07-27 16:04:29] - INFO - Uploaded video, ID: 20230727160429851
[2023-07-27 16:04:29] - INFO - Converting video 20230727160429851 to mp4...
[2023-07-27 16:04:29] - INFO - Conversion done.
[2023-07-27 16:04:29] - INFO - API called: /callASR
[2023-07-27 16:04:29] - INFO - Extracting audio from 20230727160429851...
[2023-07-27 16:04:30] - INFO - Extraction done.
[2023-07-27 16:04:30] - INFO - Running ASR for 20230727160429851...
[2023-07-27 16:04:34] - INFO - ASR done.
[2023-07-27 16:05:06] - INFO - API called: /uploadTranscript
[2023-07-27 16:05:06] - INFO - Running alignment for 20230727160429851...
[2023-07-27 16:05:09] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 16:05:09] - INFO - Alignment done.
[2023-07-27 16:05:16] - INFO - API called: /videoEditAligned
[2023-07-27 16:05:16] - INFO - Editing video 20230727160429851...
[2023-07-27 16:05:32] - INFO - API called: /runMSAAligned
[2023-07-27 16:05:50] - INFO - 
[2023-07-27 16:05:50] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-27 16:05:50] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-27 16:05:50] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-27 16:05:50] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-27 16:05:50] - INFO - Data-Level Defence for 20230727160429851...
[2023-07-27 16:06:01] - INFO - Extracting features from original video 20230727160429851...
[2023-07-27 16:06:03] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-27 16:06:03] - INFO - Initializing OpenFace video feature extractor...
[2023-07-27 16:06:03] - INFO - Initializing BERT text feature extractor...
[2023-07-27 16:06:04] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-27 16:06:06] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727160429851/raw_video.mp4'.
[2023-07-27 16:06:08] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 16:06:08] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727160429851/feat_original.pkl'.
[2023-07-27 16:06:10] - INFO - Extracting features from modified video 20230727160429851...
[2023-07-27 16:06:11] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727160429851/modified_video.mp4'.
[2023-07-27 16:06:13] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 16:06:13] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727160429851/feat_modified.pkl'.
[2023-07-27 16:06:39] - INFO - Feature-Level Defence for 20230727160429851...
[2023-07-27 16:07:03] - INFO - Running MSA models for 20230727160429851...
[2023-07-27 16:37:52] - INFO - ========================= Program Started =========================
[2023-07-27 16:37:52] - INFO - [PID: 3011249] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-27 16:37:52] - INFO - Starting WSGI Server on port 4096...
[2023-07-27 16:38:37] - INFO - API called: /uploadVideo
[2023-07-27 16:38:37] - INFO - Uploaded video, ID: 20230727163837564
[2023-07-27 16:38:37] - INFO - Converting video 20230727163837564 to mp4...
[2023-07-27 16:38:38] - INFO - Conversion done.
[2023-07-27 16:38:38] - INFO - API called: /callASR
[2023-07-27 16:38:38] - INFO - Extracting audio from 20230727163837564...
[2023-07-27 16:38:38] - INFO - Extraction done.
[2023-07-27 16:38:38] - INFO - Running ASR for 20230727163837564...
[2023-07-27 16:38:43] - INFO - ASR done.
[2023-07-27 16:38:45] - INFO - API called: /uploadTranscript
[2023-07-27 16:38:45] - INFO - Running alignment for 20230727163837564...
[2023-07-27 16:38:48] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 16:38:48] - INFO - Alignment done.
[2023-07-27 16:38:57] - INFO - API called: /videoEditAligned
[2023-07-27 16:38:57] - INFO - Editing video 20230727163837564...
[2023-07-27 16:39:05] - INFO - API called: /runMSAAligned
[2023-07-27 16:39:05] - INFO - 
[2023-07-27 16:39:05] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-27 16:39:05] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-27 16:39:05] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-27 16:39:05] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-27 16:39:05] - INFO - Data-Level Defence for 20230727163837564...
[2023-07-27 16:39:05] - INFO - Extracting features from original video 20230727163837564...
[2023-07-27 16:39:05] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-27 16:39:05] - INFO - Initializing OpenFace video feature extractor...
[2023-07-27 16:39:05] - INFO - Initializing BERT text feature extractor...
[2023-07-27 16:39:07] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-27 16:39:09] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727163837564/raw_video.mp4'.
[2023-07-27 16:39:11] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 16:39:11] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727163837564/feat_original.pkl'.
[2023-07-27 16:39:11] - INFO - Extracting features from modified video 20230727163837564...
[2023-07-27 16:39:11] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727163837564/modified_video.mp4'.
[2023-07-27 16:39:13] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 16:39:13] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727163837564/feat_modified.pkl'.
[2023-07-27 16:39:13] - INFO - Feature-Level Defence for 20230727163837564...
[2023-07-27 16:39:13] - INFO - Running MSA models for 20230727163837564...
[2023-07-27 17:07:07] - INFO - ========================= Program Started =========================
[2023-07-27 17:07:07] - INFO - [PID: 3020547] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-27 17:07:07] - INFO - Starting WSGI Server on port 4096...
[2023-07-27 17:07:34] - INFO - API called: /uploadVideo
[2023-07-27 17:07:34] - INFO - Uploaded video, ID: 20230727170734375
[2023-07-27 17:07:34] - INFO - Converting video 20230727170734375 to mp4...
[2023-07-27 17:07:34] - INFO - Conversion done.
[2023-07-27 17:07:34] - INFO - API called: /callASR
[2023-07-27 17:07:34] - INFO - Extracting audio from 20230727170734375...
[2023-07-27 17:07:35] - INFO - Extraction done.
[2023-07-27 17:07:35] - INFO - Running ASR for 20230727170734375...
[2023-07-27 17:07:39] - INFO - ASR done.
[2023-07-27 17:07:41] - INFO - API called: /uploadTranscript
[2023-07-27 17:07:41] - INFO - Running alignment for 20230727170734375...
[2023-07-27 17:07:43] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 17:07:43] - INFO - Alignment done.
[2023-07-27 17:07:50] - INFO - API called: /videoEditAligned
[2023-07-27 17:07:50] - INFO - Editing video 20230727170734375...
[2023-07-27 17:07:55] - INFO - API called: /runMSAAligned
[2023-07-27 17:08:09] - INFO - 
[2023-07-27 17:08:09] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-27 17:08:09] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-27 17:08:09] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-27 17:08:09] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-27 17:08:19] - INFO - Data-Level Defence for 20230727170734375...
[2023-07-27 17:08:23] - INFO - Extracting features from original video 20230727170734375...
[2023-07-27 17:08:24] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-27 17:08:24] - INFO - Initializing OpenFace video feature extractor...
[2023-07-27 17:08:24] - INFO - Initializing BERT text feature extractor...
[2023-07-27 17:08:25] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-27 17:08:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727170734375/raw_video.mp4'.
[2023-07-27 17:08:29] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 17:08:29] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727170734375/feat_original.pkl'.
[2023-07-27 17:09:52] - INFO - Extracting features from modified video 20230727170734375...
[2023-07-27 17:09:52] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727170734375/modified_video.mp4'.
[2023-07-27 17:09:55] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 17:09:55] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727170734375/feat_modified.pkl'.
[2023-07-27 17:09:55] - INFO - Feature-Level Defence for 20230727170734375...
[2023-07-27 17:09:55] - INFO - Running MSA models for 20230727170734375...
[2023-07-27 20:07:34] - INFO - ========================= Program Started =========================
[2023-07-27 20:07:34] - INFO - [PID: 3048212] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-27 20:07:34] - INFO - Starting WSGI Server on port 4096...
[2023-07-27 20:08:13] - INFO - API called: /uploadVideo
[2023-07-27 20:08:13] - INFO - Uploaded video, ID: 20230727200813971
[2023-07-27 20:08:13] - INFO - Converting video 20230727200813971 to mp4...
[2023-07-27 20:08:13] - INFO - Conversion done.
[2023-07-27 20:08:14] - INFO - API called: /callASR
[2023-07-27 20:08:14] - INFO - Extracting audio from 20230727200813971...
[2023-07-27 20:08:14] - INFO - Extraction done.
[2023-07-27 20:08:14] - INFO - Running ASR for 20230727200813971...
[2023-07-27 20:08:18] - INFO - ASR done.
[2023-07-27 20:08:20] - INFO - API called: /uploadTranscript
[2023-07-27 20:08:20] - INFO - Running alignment for 20230727200813971...
[2023-07-27 20:08:23] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 20:08:23] - INFO - Alignment done.
[2023-07-27 20:08:28] - INFO - API called: /videoEditAligned
[2023-07-27 20:08:28] - INFO - Editing video 20230727200813971...
[2023-07-27 20:08:33] - INFO - API called: /runMSAAligned
[2023-07-27 20:10:39] - INFO - 
[2023-07-27 20:10:39] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-27 20:10:39] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-27 20:10:39] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-27 20:10:39] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-27 20:10:40] - INFO - Data-Level Defence for 20230727200813971...
[2023-07-27 20:10:43] - INFO - Extracting features from original video 20230727200813971...
[2023-07-27 20:10:43] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-27 20:10:43] - INFO - Initializing OpenFace video feature extractor...
[2023-07-27 20:10:43] - INFO - Initializing BERT text feature extractor...
[2023-07-27 20:10:44] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-27 20:10:46] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727200813971/raw_video.mp4'.
[2023-07-27 20:10:48] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 20:10:48] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727200813971/feat_original.pkl'.
[2023-07-27 20:23:00] - INFO - ========================= Program Started =========================
[2023-07-27 20:23:00] - INFO - [PID: 3055079] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-27 20:23:00] - INFO - Starting WSGI Server on port 4096...
[2023-07-27 20:23:10] - INFO - API called: /uploadVideo
[2023-07-27 20:23:10] - INFO - Uploaded video, ID: 20230727202310930
[2023-07-27 20:23:10] - INFO - Converting video 20230727202310930 to mp4...
[2023-07-27 20:23:11] - INFO - Conversion done.
[2023-07-27 20:23:11] - INFO - API called: /callASR
[2023-07-27 20:23:11] - INFO - Extracting audio from 20230727202310930...
[2023-07-27 20:23:11] - INFO - Extraction done.
[2023-07-27 20:23:11] - INFO - Running ASR for 20230727202310930...
[2023-07-27 20:23:15] - INFO - ASR done.
[2023-07-27 20:23:18] - INFO - API called: /uploadTranscript
[2023-07-27 20:23:18] - INFO - Running alignment for 20230727202310930...
[2023-07-27 20:23:20] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 20:23:20] - INFO - Alignment done.
[2023-07-27 20:23:24] - INFO - API called: /videoEditAligned
[2023-07-27 20:23:24] - INFO - Editing video 20230727202310930...
[2023-07-27 20:23:28] - INFO - API called: /runMSAAligned
[2023-07-27 20:28:35] - INFO - 
[2023-07-27 20:28:35] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-27 20:28:35] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-27 20:28:35] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-27 20:28:35] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-27 20:28:36] - INFO - Data-Level Defence for 20230727202310930...
[2023-07-27 20:28:39] - INFO - Extracting features from original video 20230727202310930...
[2023-07-27 20:28:39] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-27 20:28:39] - INFO - Initializing OpenFace video feature extractor...
[2023-07-27 20:28:39] - INFO - Initializing BERT text feature extractor...
[2023-07-27 20:28:40] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-27 20:28:42] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727202310930/raw_video.mp4'.
[2023-07-27 20:28:45] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 20:28:45] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727202310930/feat_original.pkl'.
[2023-07-27 20:28:45] - INFO - Extracting features from modified video 20230727202310930...
[2023-07-27 20:28:45] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727202310930/modified_video.mp4'.
[2023-07-27 20:28:47] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-27 20:28:47] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230727202310930/feat_modified.pkl'.
[2023-07-27 20:28:47] - INFO - Feature-Level Defence for 20230727202310930...
[2023-07-27 20:28:47] - INFO - Running MSA models for 20230727202310930...
[2023-07-27 20:28:48] - ERROR - Error(s) in loading state_dict for AMIO:
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layer_norm.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layer_norm.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layer_norm.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layer_norm.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layer_norm.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layer_norm.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 559, in run_msa_aligned
    r = MMSA_test(config, weights_root_path / f"{m}-mosei.pth", feat_original_path, gpu_id=-1)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MMSA/run.py", line 323, in MMSA_test
    model.load_state_dict(torch.load(weights_path), strict=False)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1671, in load_state_dict
    raise RuntimeError('Error(s) in loading state_dict for {}:\n\t{}'.format(
RuntimeError: Error(s) in loading state_dict for AMIO:
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.0.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.1.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layers.2.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layer_norm.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_l_final.layer_norm.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.0.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.1.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layers.2.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layer_norm.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_a_final.layer_norm.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.0.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.1.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.in_proj_weight: copying a param with shape torch.Size([225, 75]) from checkpoint, the shape in current model is torch.Size([150, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.in_proj_bias: copying a param with shape torch.Size([225]) from checkpoint, the shape in current model is torch.Size([150]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.out_proj.weight: copying a param with shape torch.Size([75, 75]) from checkpoint, the shape in current model is torch.Size([50, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.self_attn.out_proj.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc1.weight: copying a param with shape torch.Size([300, 75]) from checkpoint, the shape in current model is torch.Size([200, 50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc1.bias: copying a param with shape torch.Size([300]) from checkpoint, the shape in current model is torch.Size([200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc2.weight: copying a param with shape torch.Size([75, 300]) from checkpoint, the shape in current model is torch.Size([50, 200]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.fc2.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.0.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.0.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.1.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layers.2.layer_norms.1.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layer_norm.weight: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
	size mismatch for Model.align_subnet.Model.trans_v_final.layer_norm.bias: copying a param with shape torch.Size([75]) from checkpoint, the shape in current model is torch.Size([50]).
[2023-07-28 11:32:43] - INFO - ========================= Program Started =========================
[2023-07-28 11:32:43] - INFO - [PID: 3169740] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 11:32:43] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 11:34:04] - INFO - API called: /uploadVideo
[2023-07-28 11:34:04] - INFO - Uploaded video, ID: 20230728113404320
[2023-07-28 11:34:04] - INFO - Converting video 20230728113404320 to mp4...
[2023-07-28 11:34:04] - INFO - Conversion done.
[2023-07-28 11:34:04] - INFO - API called: /callASR
[2023-07-28 11:34:04] - INFO - Extracting audio from 20230728113404320...
[2023-07-28 11:34:05] - INFO - Extraction done.
[2023-07-28 11:34:05] - INFO - Running ASR for 20230728113404320...
[2023-07-28 11:34:10] - INFO - ASR done.
[2023-07-28 11:34:16] - INFO - API called: /uploadTranscript
[2023-07-28 11:34:16] - INFO - Running alignment for 20230728113404320...
[2023-07-28 11:34:19] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 11:34:19] - INFO - Alignment done.
[2023-07-28 11:34:27] - INFO - API called: /videoEditAligned
[2023-07-28 11:34:27] - INFO - Editing video 20230728113404320...
[2023-07-28 11:34:37] - INFO - API called: /runMSAAligned
[2023-07-28 11:35:26] - INFO - 
[2023-07-28 11:35:26] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 11:35:26] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 11:35:26] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 11:35:26] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 11:35:26] - INFO - Data-Level Defence for 20230728113404320...
[2023-07-28 11:35:34] - INFO - Audio Denoising...
[2023-07-28 11:35:34] - INFO - Video MCI...
[2023-07-28 11:35:44] - INFO - Extracting features from original video 20230728113404320...
[2023-07-28 11:35:58] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 11:35:58] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 11:35:58] - INFO - Initializing BERT text feature extractor...
[2023-07-28 11:35:59] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 11:36:01] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728113404320/raw_video.mp4'.
[2023-07-28 11:36:03] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 11:36:03] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728113404320/feat_original.pkl'.
[2023-07-28 11:36:33] - INFO - Extracting features from modified video 20230728113404320...
[2023-07-28 13:27:06] - INFO - ========================= Program Started =========================
[2023-07-28 13:27:06] - INFO - [PID: 3190554] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 13:27:06] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 13:27:25] - INFO - API called: /uploadVideo
[2023-07-28 13:27:25] - INFO - Uploaded video, ID: 20230728132725307
[2023-07-28 13:27:25] - INFO - Converting video 20230728132725307 to mp4...
[2023-07-28 13:27:26] - INFO - Conversion done.
[2023-07-28 13:27:26] - INFO - API called: /callASR
[2023-07-28 13:27:26] - INFO - Extracting audio from 20230728132725307...
[2023-07-28 13:27:26] - INFO - Extraction done.
[2023-07-28 13:27:26] - INFO - Running ASR for 20230728132725307...
[2023-07-28 13:27:30] - INFO - ASR done.
[2023-07-28 13:27:33] - INFO - API called: /uploadTranscript
[2023-07-28 13:27:33] - INFO - Running alignment for 20230728132725307...
[2023-07-28 13:27:36] - INFO - CTC segmentation of 25 chars to 3.02s audio (150 indices).
[2023-07-28 13:27:36] - INFO - Alignment done.
[2023-07-28 13:27:41] - INFO - API called: /videoEditAligned
[2023-07-28 13:27:41] - INFO - Editing video 20230728132725307...
[2023-07-28 13:27:48] - INFO - API called: /runMSAAligned
[2023-07-28 13:27:48] - INFO - 
[2023-07-28 13:27:48] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 13:27:48] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 13:27:48] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 13:27:48] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 13:27:48] - INFO - Data-Level Defence for 20230728132725307...
[2023-07-28 13:27:48] - INFO - Extracting features from original video 20230728132725307...
[2023-07-28 13:27:48] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 13:27:48] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 13:27:48] - INFO - Initializing BERT text feature extractor...
[2023-07-28 13:27:49] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 13:27:51] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728132725307/raw_video.mp4'.
[2023-07-28 13:27:53] - INFO - CTC segmentation of 25 chars to 3.02s audio (150 indices).
[2023-07-28 13:27:53] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728132725307/feat_original.pkl'.
[2023-07-28 13:27:53] - INFO - Extracting features from modified video 20230728132725307...
[2023-07-28 13:27:53] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728132725307/modified_video.mp4'.
[2023-07-28 13:27:56] - INFO - CTC segmentation of 25 chars to 3.02s audio (150 indices).
[2023-07-28 13:27:56] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728132725307/feat_modified.pkl'.
[2023-07-28 13:27:56] - INFO - Feature-Level Defence for 20230728132725307...
[2023-07-28 13:27:56] - INFO - Running MSA models for 20230728132725307...
[2023-07-28 14:20:31] - INFO - ========================= Program Started =========================
[2023-07-28 14:20:31] - INFO - [PID: 3200333] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 14:20:31] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 14:20:37] - INFO - API called: /uploadVideo
[2023-07-28 14:20:37] - INFO - Uploaded video, ID: 20230728142037070
[2023-07-28 14:20:37] - INFO - Converting video 20230728142037070 to mp4...
[2023-07-28 14:20:37] - INFO - Conversion done.
[2023-07-28 14:20:37] - INFO - API called: /callASR
[2023-07-28 14:20:37] - INFO - Extracting audio from 20230728142037070...
[2023-07-28 14:20:37] - INFO - Extraction done.
[2023-07-28 14:20:37] - INFO - Running ASR for 20230728142037070...
[2023-07-28 14:20:43] - INFO - ASR done.
[2023-07-28 14:20:48] - INFO - API called: /uploadTranscript
[2023-07-28 14:20:48] - INFO - Running alignment for 20230728142037070...
[2023-07-28 14:20:50] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:20:50] - INFO - Alignment done.
[2023-07-28 14:20:57] - INFO - API called: /videoEditAligned
[2023-07-28 14:20:57] - INFO - Editing video 20230728142037070...
[2023-07-28 14:21:02] - INFO - API called: /runMSAAligned
[2023-07-28 14:21:12] - INFO - 
[2023-07-28 14:21:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:21:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:21:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:21:12] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 14:21:23] - INFO - Extracting features from original video 20230728142037070...
[2023-07-28 14:21:23] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 14:21:23] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 14:21:23] - INFO - Initializing BERT text feature extractor...
[2023-07-28 14:21:24] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 14:21:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/raw_video.mp4'.
[2023-07-28 14:21:28] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:21:28] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_original.pkl'.
[2023-07-28 14:21:28] - INFO - Extracting features from modified video 20230728142037070...
[2023-07-28 14:21:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/modified_video.mp4'.
[2023-07-28 14:21:30] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:21:30] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_modified.pkl'.
[2023-07-28 14:21:30] - INFO - Running MSA models for 20230728142037070...
[2023-07-28 14:21:33] - INFO - 
[2023-07-28 14:21:33] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:21:33] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:21:33] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:21:33] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 14:21:34] - INFO - 
[2023-07-28 14:21:34] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:21:34] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:21:34] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:21:34] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 14:21:35] - INFO - 
[2023-07-28 14:21:35] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:21:35] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:21:35] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:21:35] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 14:21:38] - INFO - Initializing BERT text feature extractor...
[2023-07-28 14:21:38] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/transcript.txt'.
[2023-07-28 14:21:48] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 14:21:48] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/raw_video.mp4'.
[2023-07-28 14:21:49] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 14:21:49] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/raw_video.mp4'.
[2023-07-28 14:21:50] - ERROR - 'audio'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 366, in run_msa_aligned
    "vision":(vision_fet.run_single(video_original_path))['audio']
KeyError: 'audio'
[2023-07-28 14:22:05] - INFO - API called: /runMSAAligned
[2023-07-28 14:22:05] - INFO - 
[2023-07-28 14:22:05] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:05] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:05] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:05] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 14:22:05] - INFO - Extracting features from original video 20230728142037070...
[2023-07-28 14:22:05] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 14:22:05] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 14:22:05] - INFO - Initializing BERT text feature extractor...
[2023-07-28 14:22:06] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 14:22:08] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/raw_video.mp4'.
[2023-07-28 14:22:10] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:22:10] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_original.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_original_1690525330.pkl' instead.
[2023-07-28 14:22:10] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_original_1690525330.pkl'.
[2023-07-28 14:22:10] - INFO - Extracting features from modified video 20230728142037070...
[2023-07-28 14:22:10] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/modified_video.mp4'.
[2023-07-28 14:22:12] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:22:12] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_modified.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_modified_1690525332.pkl' instead.
[2023-07-28 14:22:12] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/feat_modified_1690525332.pkl'.
[2023-07-28 14:22:12] - INFO - Running MSA models for 20230728142037070...
[2023-07-28 14:22:12] - INFO - 
[2023-07-28 14:22:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:12] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 14:22:12] - INFO - 
[2023-07-28 14:22:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:12] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 14:22:12] - INFO - 
[2023-07-28 14:22:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:12] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 14:22:12] - INFO - Initializing BERT text feature extractor...
[2023-07-28 14:22:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/transcript.txt'.
[2023-07-28 14:22:14] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 14:22:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/raw_video.mp4'.
[2023-07-28 14:22:14] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 14:22:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142037070/raw_video.mp4'.
[2023-07-28 14:22:15] - ERROR - 'audio'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 366, in run_msa_aligned
    "vision":(vision_fet.run_single(video_original_path))['vision']
KeyError: 'audio'
[2023-07-28 14:22:23] - INFO - ========================= Program Started =========================
[2023-07-28 14:22:23] - INFO - [PID: 3205677] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 14:22:23] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 14:22:30] - INFO - API called: /uploadVideo
[2023-07-28 14:22:30] - INFO - Uploaded video, ID: 20230728142230021
[2023-07-28 14:22:30] - INFO - Converting video 20230728142230021 to mp4...
[2023-07-28 14:22:30] - INFO - Conversion done.
[2023-07-28 14:22:30] - INFO - API called: /callASR
[2023-07-28 14:22:30] - INFO - Extracting audio from 20230728142230021...
[2023-07-28 14:22:30] - INFO - Extraction done.
[2023-07-28 14:22:30] - INFO - Running ASR for 20230728142230021...
[2023-07-28 14:22:34] - INFO - ASR done.
[2023-07-28 14:22:36] - INFO - API called: /uploadTranscript
[2023-07-28 14:22:36] - INFO - Running alignment for 20230728142230021...
[2023-07-28 14:22:38] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:22:38] - INFO - Alignment done.
[2023-07-28 14:22:44] - INFO - API called: /videoEditAligned
[2023-07-28 14:22:44] - INFO - Editing video 20230728142230021...
[2023-07-28 14:22:49] - INFO - API called: /runMSAAligned
[2023-07-28 14:22:49] - INFO - 
[2023-07-28 14:22:49] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:49] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:49] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:49] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 14:22:50] - INFO - Extracting features from original video 20230728142230021...
[2023-07-28 14:22:50] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 14:22:50] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 14:22:50] - INFO - Initializing BERT text feature extractor...
[2023-07-28 14:22:50] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 14:22:53] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/raw_video.mp4'.
[2023-07-28 14:22:55] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:22:55] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/feat_original.pkl'.
[2023-07-28 14:22:55] - INFO - Extracting features from modified video 20230728142230021...
[2023-07-28 14:22:55] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/modified_video.mp4'.
[2023-07-28 14:22:57] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 14:22:57] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/feat_modified.pkl'.
[2023-07-28 14:22:57] - INFO - Running MSA models for 20230728142230021...
[2023-07-28 14:22:57] - INFO - 
[2023-07-28 14:22:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:57] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 14:22:57] - INFO - 
[2023-07-28 14:22:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:57] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 14:22:57] - INFO - 
[2023-07-28 14:22:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 14:22:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 14:22:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 14:22:57] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 14:22:57] - INFO - Initializing BERT text feature extractor...
[2023-07-28 14:22:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/transcript.txt'.
[2023-07-28 14:22:58] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 14:22:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/raw_video.mp4'.
[2023-07-28 14:22:58] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 14:22:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728142230021/raw_video.mp4'.
[2023-07-28 15:45:30] - INFO - ========================= Program Started =========================
[2023-07-28 15:45:30] - INFO - [PID: 3219972] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 15:45:30] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 15:47:05] - INFO - API called: /uploadVideo
[2023-07-28 15:47:05] - INFO - Uploaded video, ID: 20230728154705488
[2023-07-28 15:47:05] - INFO - Converting video 20230728154705488 to mp4...
[2023-07-28 15:47:05] - INFO - Conversion done.
[2023-07-28 15:47:06] - INFO - API called: /callASR
[2023-07-28 15:47:06] - INFO - Extracting audio from 20230728154705488...
[2023-07-28 15:47:06] - INFO - Extraction done.
[2023-07-28 15:47:06] - INFO - Running ASR for 20230728154705488...
[2023-07-28 15:47:11] - INFO - ASR done.
[2023-07-28 15:47:14] - INFO - API called: /uploadTranscript
[2023-07-28 15:47:14] - INFO - Running alignment for 20230728154705488...
[2023-07-28 15:47:17] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 15:47:17] - INFO - Alignment done.
[2023-07-28 15:47:28] - INFO - API called: /videoEditAligned
[2023-07-28 15:47:28] - INFO - Editing video 20230728154705488...
[2023-07-28 15:48:14] - INFO - API called: /runMSAAligned
[2023-07-28 15:48:14] - INFO - 
[2023-07-28 15:48:14] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:48:14] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:48:14] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:48:14] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 15:48:14] - INFO - Extracting features from original video 20230728154705488...
[2023-07-28 15:48:14] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 15:48:14] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 15:48:14] - INFO - Initializing BERT text feature extractor...
[2023-07-28 15:48:15] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 15:48:17] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/raw_video.mp4'.
[2023-07-28 15:48:19] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 15:48:19] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/feat_original.pkl'.
[2023-07-28 15:48:19] - INFO - Extracting features from modified video 20230728154705488...
[2023-07-28 15:48:19] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/modified_video.mp4'.
[2023-07-28 15:48:22] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 15:48:22] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/feat_modified.pkl'.
[2023-07-28 15:48:22] - INFO - Running MSA models for 20230728154705488...
[2023-07-28 15:48:22] - INFO - 
[2023-07-28 15:48:22] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:48:22] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:48:22] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:48:22] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 15:48:22] - INFO - 
[2023-07-28 15:48:22] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:48:22] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:48:22] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:48:22] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 15:48:22] - INFO - 
[2023-07-28 15:48:22] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:48:22] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:48:22] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:48:22] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 15:48:22] - INFO - Initializing BERT text feature extractor...
[2023-07-28 15:48:22] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/transcript.txt'.
[2023-07-28 15:48:22] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 15:48:23] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/raw_video.mp4'.
[2023-07-28 15:48:23] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 15:48:23] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/raw_video.mp4'.
[2023-07-28 15:48:24] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/transcript_modified.txt'.
[2023-07-28 15:48:24] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/modified_video.mp4'.
[2023-07-28 15:48:24] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728154705488/modified_video.mp4'.
[2023-07-28 15:52:38] - INFO - ========================= Program Started =========================
[2023-07-28 15:52:38] - INFO - [PID: 3224403] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 15:52:38] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 15:53:50] - INFO - API called: /uploadVideo
[2023-07-28 15:53:50] - INFO - Uploaded video, ID: 20230728155350707
[2023-07-28 15:53:50] - INFO - Converting video 20230728155350707 to mp4...
[2023-07-28 15:53:50] - INFO - Conversion done.
[2023-07-28 15:53:51] - INFO - API called: /callASR
[2023-07-28 15:53:51] - INFO - Extracting audio from 20230728155350707...
[2023-07-28 15:53:51] - INFO - Extraction done.
[2023-07-28 15:53:51] - INFO - Running ASR for 20230728155350707...
[2023-07-28 15:53:56] - INFO - ASR done.
[2023-07-28 15:53:59] - INFO - API called: /uploadTranscript
[2023-07-28 15:53:59] - INFO - Running alignment for 20230728155350707...
[2023-07-28 15:54:01] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 15:54:01] - INFO - Alignment done.
[2023-07-28 15:54:14] - INFO - API called: /videoEditAligned
[2023-07-28 15:54:14] - INFO - Editing video 20230728155350707...
[2023-07-28 15:56:03] - INFO - API called: /runMSAAligned
[2023-07-28 15:56:03] - INFO - 
[2023-07-28 15:56:03] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:56:03] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:56:03] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:56:03] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 15:56:04] - INFO - Extracting features from original video 20230728155350707...
[2023-07-28 15:56:04] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 15:56:04] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 15:56:04] - INFO - Initializing BERT text feature extractor...
[2023-07-28 15:56:05] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 15:56:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/raw_video.mp4'.
[2023-07-28 15:56:09] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 15:56:09] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/feat_original.pkl'.
[2023-07-28 15:56:09] - INFO - Extracting features from modified video 20230728155350707...
[2023-07-28 15:56:09] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/modified_video.mp4'.
[2023-07-28 15:56:12] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 15:56:12] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/feat_modified.pkl'.
[2023-07-28 15:56:12] - INFO - Running MSA models for 20230728155350707...
[2023-07-28 15:56:12] - INFO - 
[2023-07-28 15:56:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:56:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:56:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:56:12] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 15:56:12] - INFO - 
[2023-07-28 15:56:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:56:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:56:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:56:12] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 15:56:12] - INFO - 
[2023-07-28 15:56:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 15:56:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 15:56:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 15:56:12] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 15:56:12] - INFO - Initializing BERT text feature extractor...
[2023-07-28 15:56:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/transcript.txt'.
[2023-07-28 15:56:13] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 15:56:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/raw_video.mp4'.
[2023-07-28 15:56:13] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 15:56:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/raw_video.mp4'.
[2023-07-28 15:56:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/transcript_modified.txt'.
[2023-07-28 15:56:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/modified_video.mp4'.
[2023-07-28 15:56:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728155350707/modified_video.mp4'.
[2023-07-28 16:02:47] - INFO - ========================= Program Started =========================
[2023-07-28 16:02:47] - INFO - [PID: 3230713] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 16:02:47] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 16:04:29] - INFO - ========================= Program Started =========================
[2023-07-28 16:04:29] - INFO - [PID: 3231398] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 16:04:29] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 16:04:46] - INFO - API called: /uploadVideo
[2023-07-28 16:04:46] - INFO - Uploaded video, ID: 20230728160446956
[2023-07-28 16:04:46] - INFO - Converting video 20230728160446956 to mp4...
[2023-07-28 16:04:46] - INFO - Conversion done.
[2023-07-28 16:04:47] - INFO - API called: /callASR
[2023-07-28 16:04:47] - INFO - Extracting audio from 20230728160446956...
[2023-07-28 16:04:47] - INFO - Extraction done.
[2023-07-28 16:04:47] - INFO - Running ASR for 20230728160446956...
[2023-07-28 16:04:52] - INFO - ASR done.
[2023-07-28 16:05:10] - INFO - API called: /uploadTranscript
[2023-07-28 16:05:10] - INFO - Running alignment for 20230728160446956...
[2023-07-28 16:05:12] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:05:12] - INFO - Alignment done.
[2023-07-28 16:05:34] - INFO - API called: /videoEditAligned
[2023-07-28 16:05:34] - INFO - Editing video 20230728160446956...
[2023-07-28 16:05:57] - INFO - API called: /runMSAAligned
[2023-07-28 16:05:57] - INFO - 
[2023-07-28 16:05:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:05:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:05:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:05:57] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:05:57] - INFO - Extracting features from original video 20230728160446956...
[2023-07-28 16:05:57] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:05:57] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:05:57] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:05:58] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:06:00] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/raw_video.mp4'.
[2023-07-28 16:06:02] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:06:02] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/feat_original.pkl'.
[2023-07-28 16:06:02] - INFO - Extracting features from modified video 20230728160446956...
[2023-07-28 16:06:02] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/modified_video.mp4'.
[2023-07-28 16:06:04] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:06:04] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/feat_modified.pkl'.
[2023-07-28 16:06:04] - INFO - Running MSA models for 20230728160446956...
[2023-07-28 16:06:04] - INFO - 
[2023-07-28 16:06:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:06:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:06:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:06:04] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:06:04] - INFO - 
[2023-07-28 16:06:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:06:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:06:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:06:04] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:06:04] - INFO - 
[2023-07-28 16:06:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:06:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:06:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:06:04] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:06:04] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:06:05] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/transcript.txt'.
[2023-07-28 16:06:05] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:06:05] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/raw_video.mp4'.
[2023-07-28 16:06:06] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:06:06] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/raw_video.mp4'.
[2023-07-28 16:06:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/transcript_modified.txt'.
[2023-07-28 16:06:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/modified_video.mp4'.
[2023-07-28 16:06:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728160446956/modified_video.mp4'.
[2023-07-28 16:07:16] - ERROR - No module named 'models'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 380, in run_msa_aligned
    r = run.single(m, original_feature)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/run.py", line 7, in single
    return MMIN.robust_test(feature)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/trainers/MMIN.py", line 13, in robust_test
    opt = Options().parse(1111)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/configs/MMIN.py", line 89, in parse
    opt = self.gather_options()
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/configs/MMIN.py", line 79, in gather_options
    model_option_setter = models.get_option_setter(model_name)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/models/__init__.py", line 44, in get_option_setter
    model_class = find_model_using_name(model_name)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/models/__init__.py", line 27, in find_model_using_name
    modellib = import_module(model_filename)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 992, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1004, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'models'
[2023-07-28 16:36:41] - INFO - ========================= Program Started =========================
[2023-07-28 16:36:41] - INFO - [PID: 3239258] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 16:36:41] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 16:36:56] - INFO - API called: /uploadVideo
[2023-07-28 16:36:58] - INFO - Uploaded video, ID: 20230728163658549
[2023-07-28 16:36:58] - INFO - Converting video 20230728163658549 to mp4...
[2023-07-28 16:36:58] - INFO - Conversion done.
[2023-07-28 16:36:59] - INFO - API called: /callASR
[2023-07-28 16:36:59] - INFO - Extracting audio from 20230728163658549...
[2023-07-28 16:36:59] - INFO - Extraction done.
[2023-07-28 16:36:59] - INFO - Running ASR for 20230728163658549...
[2023-07-28 16:37:04] - INFO - ASR done.
[2023-07-28 16:37:54] - INFO - API called: /uploadTranscript
[2023-07-28 16:37:54] - INFO - Running alignment for 20230728163658549...
[2023-07-28 16:37:56] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:37:56] - INFO - Alignment done.
[2023-07-28 16:42:44] - INFO - API called: /videoEditAligned
[2023-07-28 16:42:44] - INFO - Editing video 20230728163658549...
[2023-07-28 16:42:47] - INFO - API called: /runMSAAligned
[2023-07-28 16:42:47] - INFO - 
[2023-07-28 16:42:47] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:42:47] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:42:47] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:42:47] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:42:47] - INFO - Extracting features from original video 20230728163658549...
[2023-07-28 16:42:47] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:42:47] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:42:47] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:42:48] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:42:51] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/raw_video.mp4'.
[2023-07-28 16:42:53] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:42:53] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/feat_original.pkl'.
[2023-07-28 16:42:53] - INFO - Extracting features from modified video 20230728163658549...
[2023-07-28 16:42:53] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/modified_video.mp4'.
[2023-07-28 16:42:55] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:42:55] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/feat_modified.pkl'.
[2023-07-28 16:42:55] - INFO - Running MSA models for 20230728163658549...
[2023-07-28 16:42:55] - INFO - 
[2023-07-28 16:42:55] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:42:55] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:42:55] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:42:55] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:42:55] - INFO - 
[2023-07-28 16:42:55] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:42:55] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:42:55] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:42:55] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:42:55] - INFO - 
[2023-07-28 16:42:55] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:42:55] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:42:55] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:42:55] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:42:55] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:42:56] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/transcript.txt'.
[2023-07-28 16:42:56] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:42:56] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/raw_video.mp4'.
[2023-07-28 16:42:57] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:42:57] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/raw_video.mp4'.
[2023-07-28 16:42:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/transcript_modified.txt'.
[2023-07-28 16:42:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/modified_video.mp4'.
[2023-07-28 16:42:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728163658549/modified_video.mp4'.
[2023-07-28 16:47:06] - INFO - ========================= Program Started =========================
[2023-07-28 16:47:06] - INFO - [PID: 3245683] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 16:47:06] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 16:48:45] - INFO - API called: /uploadVideo
[2023-07-28 16:48:45] - INFO - Uploaded video, ID: 20230728164845230
[2023-07-28 16:48:45] - INFO - Converting video 20230728164845230 to mp4...
[2023-07-28 16:48:45] - INFO - Conversion done.
[2023-07-28 16:48:45] - INFO - API called: /callASR
[2023-07-28 16:48:45] - INFO - Extracting audio from 20230728164845230...
[2023-07-28 16:48:45] - INFO - Extraction done.
[2023-07-28 16:48:45] - INFO - Running ASR for 20230728164845230...
[2023-07-28 16:48:51] - INFO - ASR done.
[2023-07-28 16:48:54] - INFO - API called: /uploadTranscript
[2023-07-28 16:48:54] - INFO - Running alignment for 20230728164845230...
[2023-07-28 16:48:57] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:48:57] - INFO - Alignment done.
[2023-07-28 16:49:01] - INFO - API called: /videoEditAligned
[2023-07-28 16:49:01] - INFO - Editing video 20230728164845230...
[2023-07-28 16:49:04] - INFO - API called: /runMSAAligned
[2023-07-28 16:49:04] - INFO - 
[2023-07-28 16:49:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:49:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:49:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:49:04] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:49:04] - INFO - Extracting features from original video 20230728164845230...
[2023-07-28 16:49:04] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:49:04] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:49:04] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:49:05] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:49:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/raw_video.mp4'.
[2023-07-28 16:49:09] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:49:09] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/feat_original.pkl'.
[2023-07-28 16:49:09] - INFO - Extracting features from modified video 20230728164845230...
[2023-07-28 16:49:09] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/modified_video.mp4'.
[2023-07-28 16:49:12] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:49:12] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/feat_modified.pkl'.
[2023-07-28 16:49:12] - INFO - Running MSA models for 20230728164845230...
[2023-07-28 16:49:12] - INFO - 
[2023-07-28 16:49:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:49:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:49:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:49:12] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:49:12] - INFO - 
[2023-07-28 16:49:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:49:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:49:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:49:12] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:49:12] - INFO - 
[2023-07-28 16:49:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:49:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:49:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:49:12] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:49:12] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:49:12] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/transcript.txt'.
[2023-07-28 16:49:12] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:49:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/raw_video.mp4'.
[2023-07-28 16:49:13] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:49:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/raw_video.mp4'.
[2023-07-28 16:49:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/transcript_modified.txt'.
[2023-07-28 16:49:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/modified_video.mp4'.
[2023-07-28 16:49:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728164845230/modified_video.mp4'.
[2023-07-28 16:49:37] - ERROR - No module named 'configs'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 380, in run_msa_aligned
    r = run.single(m, original_feature)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/run.py", line 9, in single
    cfg = get_config("TFR_Net", dataset_name = "MOSI")
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/configs/__init__.py", line 10, in get_config
    module = import_module(f'configs.{model}')
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 992, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1004, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'configs'
[2023-07-28 16:53:31] - INFO - ========================= Program Started =========================
[2023-07-28 16:53:31] - INFO - [PID: 3251122] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 16:53:31] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 16:54:00] - INFO - API called: /uploadVideo
[2023-07-28 16:54:00] - INFO - Uploaded video, ID: 20230728165400287
[2023-07-28 16:54:00] - INFO - Converting video 20230728165400287 to mp4...
[2023-07-28 16:54:00] - INFO - Conversion done.
[2023-07-28 16:54:00] - INFO - API called: /callASR
[2023-07-28 16:54:00] - INFO - Extracting audio from 20230728165400287...
[2023-07-28 16:54:00] - INFO - Extraction done.
[2023-07-28 16:54:00] - INFO - Running ASR for 20230728165400287...
[2023-07-28 16:54:05] - INFO - ASR done.
[2023-07-28 16:54:06] - INFO - API called: /uploadTranscript
[2023-07-28 16:54:06] - INFO - Running alignment for 20230728165400287...
[2023-07-28 16:54:09] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:54:09] - INFO - Alignment done.
[2023-07-28 16:54:12] - INFO - API called: /videoEditAligned
[2023-07-28 16:54:12] - INFO - Editing video 20230728165400287...
[2023-07-28 16:54:16] - INFO - API called: /runMSAAligned
[2023-07-28 16:54:16] - INFO - 
[2023-07-28 16:54:16] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:54:16] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:54:16] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:54:16] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:54:16] - INFO - Extracting features from original video 20230728165400287...
[2023-07-28 16:54:16] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:54:16] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:54:16] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:54:17] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:54:19] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/raw_video.mp4'.
[2023-07-28 16:54:22] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:54:22] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/feat_original.pkl'.
[2023-07-28 16:54:22] - INFO - Extracting features from modified video 20230728165400287...
[2023-07-28 16:54:22] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/modified_video.mp4'.
[2023-07-28 16:54:24] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:54:24] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/feat_modified.pkl'.
[2023-07-28 16:54:24] - INFO - Running MSA models for 20230728165400287...
[2023-07-28 16:54:24] - INFO - 
[2023-07-28 16:54:24] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:54:24] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:54:24] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:54:24] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:54:24] - INFO - 
[2023-07-28 16:54:24] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:54:24] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:54:24] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:54:24] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:54:24] - INFO - 
[2023-07-28 16:54:24] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:54:24] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:54:24] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:54:24] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:54:24] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:54:25] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/transcript.txt'.
[2023-07-28 16:54:25] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:54:25] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/raw_video.mp4'.
[2023-07-28 16:54:25] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:54:25] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/raw_video.mp4'.
[2023-07-28 16:54:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/transcript_modified.txt'.
[2023-07-28 16:54:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/modified_video.mp4'.
[2023-07-28 16:54:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165400287/modified_video.mp4'.
[2023-07-28 16:54:36] - ERROR - No module named 'trainers'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 380, in run_msa_aligned
    r = run.single(m, original_feature)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/run.py", line 12, in single
    trainer = get_trainer(cfg)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/trainers/__init__.py", line 11, in get_trainer
    module = import_module(f'trainers.{config.model}')
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 992, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1004, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'trainers'
[2023-07-28 16:55:22] - INFO - ========================= Program Started =========================
[2023-07-28 16:55:22] - INFO - [PID: 3254955] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 16:55:22] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 16:56:39] - INFO - API called: /uploadVideo
[2023-07-28 16:56:40] - INFO - Uploaded video, ID: 20230728165640533
[2023-07-28 16:56:40] - INFO - Converting video 20230728165640533 to mp4...
[2023-07-28 16:56:40] - INFO - Conversion done.
[2023-07-28 16:56:40] - INFO - API called: /callASR
[2023-07-28 16:56:40] - INFO - Extracting audio from 20230728165640533...
[2023-07-28 16:56:40] - INFO - Extraction done.
[2023-07-28 16:56:40] - INFO - Running ASR for 20230728165640533...
[2023-07-28 16:56:45] - INFO - ASR done.
[2023-07-28 16:56:56] - INFO - API called: /uploadTranscript
[2023-07-28 16:56:56] - INFO - Running alignment for 20230728165640533...
[2023-07-28 16:56:58] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:56:58] - INFO - Alignment done.
[2023-07-28 16:57:04] - INFO - API called: /videoEditAligned
[2023-07-28 16:57:04] - INFO - Editing video 20230728165640533...
[2023-07-28 16:57:07] - INFO - API called: /runMSAAligned
[2023-07-28 16:57:07] - INFO - 
[2023-07-28 16:57:07] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:07] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:07] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:07] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:57:07] - INFO - Extracting features from original video 20230728165640533...
[2023-07-28 16:57:07] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:57:07] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:57:07] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:57:08] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:57:10] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:57:12] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:57:12] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original.pkl'.
[2023-07-28 16:57:12] - INFO - Extracting features from modified video 20230728165640533...
[2023-07-28 16:57:12] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:57:15] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:57:15] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified.pkl'.
[2023-07-28 16:57:15] - INFO - Running MSA models for 20230728165640533...
[2023-07-28 16:57:15] - INFO - 
[2023-07-28 16:57:15] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:15] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:15] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:15] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:57:15] - INFO - 
[2023-07-28 16:57:15] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:15] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:15] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:15] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:57:15] - INFO - 
[2023-07-28 16:57:15] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:15] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:15] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:15] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:57:15] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:57:16] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript.txt'.
[2023-07-28 16:57:16] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:57:16] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:57:16] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:57:16] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:57:17] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript_modified.txt'.
[2023-07-28 16:57:17] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:57:17] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:57:23] - ERROR - float() argument must be a string or a real number, not 'NoneType'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 381, in run_msa_aligned
    res["original"][m] = float(r)
TypeError: float() argument must be a string or a real number, not 'NoneType'
[2023-07-28 16:57:34] - INFO - API called: /runMSAAligned
[2023-07-28 16:57:34] - INFO - 
[2023-07-28 16:57:34] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:34] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:34] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:34] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:57:34] - INFO - Extracting features from original video 20230728165640533...
[2023-07-28 16:57:34] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:57:34] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:57:34] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:57:35] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:57:37] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:57:39] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:57:39] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original_1690534659.pkl' instead.
[2023-07-28 16:57:39] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original_1690534659.pkl'.
[2023-07-28 16:57:39] - INFO - Extracting features from modified video 20230728165640533...
[2023-07-28 16:57:39] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:57:42] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:57:42] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified_1690534662.pkl' instead.
[2023-07-28 16:57:42] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified_1690534662.pkl'.
[2023-07-28 16:57:42] - INFO - Running MSA models for 20230728165640533...
[2023-07-28 16:57:42] - INFO - 
[2023-07-28 16:57:42] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:42] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:42] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:42] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:57:42] - INFO - 
[2023-07-28 16:57:42] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:42] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:42] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:42] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:57:42] - INFO - 
[2023-07-28 16:57:42] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:57:42] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:57:42] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:57:42] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:57:42] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:57:43] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript.txt'.
[2023-07-28 16:57:43] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:57:43] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:57:43] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:57:43] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:57:44] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript_modified.txt'.
[2023-07-28 16:57:44] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:57:44] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:58:42] - ERROR - float() argument must be a string or a real number, not 'NoneType'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 381, in run_msa_aligned
    res["original"][m] = float(r)
TypeError: float() argument must be a string or a real number, not 'NoneType'
[2023-07-28 16:58:45] - INFO - API called: /runMSAAligned
[2023-07-28 16:58:45] - INFO - 
[2023-07-28 16:58:45] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:58:45] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:58:45] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:58:45] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:58:45] - INFO - Extracting features from original video 20230728165640533...
[2023-07-28 16:58:45] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:58:45] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:58:45] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:58:46] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:58:48] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:58:51] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:58:51] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original_1690534731.pkl' instead.
[2023-07-28 16:58:51] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original_1690534731.pkl'.
[2023-07-28 16:58:51] - INFO - Extracting features from modified video 20230728165640533...
[2023-07-28 16:58:51] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:58:53] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:58:53] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified_1690534733.pkl' instead.
[2023-07-28 16:58:53] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified_1690534733.pkl'.
[2023-07-28 16:58:53] - INFO - Running MSA models for 20230728165640533...
[2023-07-28 16:58:53] - INFO - 
[2023-07-28 16:58:53] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:58:53] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:58:53] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:58:53] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:58:53] - INFO - 
[2023-07-28 16:58:53] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:58:53] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:58:53] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:58:53] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:58:53] - INFO - 
[2023-07-28 16:58:53] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:58:53] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:58:53] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:58:53] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:58:53] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:58:54] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript.txt'.
[2023-07-28 16:58:54] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:58:54] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:58:54] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:58:54] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:58:55] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript_modified.txt'.
[2023-07-28 16:58:55] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:58:56] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:59:33] - ERROR - float() argument must be a string or a real number, not 'NoneType'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 381, in run_msa_aligned
    res["original"][m] = float(r)
TypeError: float() argument must be a string or a real number, not 'NoneType'
[2023-07-28 16:59:41] - INFO - API called: /runMSAAligned
[2023-07-28 16:59:41] - INFO - 
[2023-07-28 16:59:41] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:59:41] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:59:41] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:59:41] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 16:59:41] - INFO - Extracting features from original video 20230728165640533...
[2023-07-28 16:59:41] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:59:41] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:59:41] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:59:41] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 16:59:44] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:59:46] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:59:46] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original_1690534786.pkl' instead.
[2023-07-28 16:59:46] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_original_1690534786.pkl'.
[2023-07-28 16:59:46] - INFO - Extracting features from modified video 20230728165640533...
[2023-07-28 16:59:46] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:59:48] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 16:59:48] - WARNING - Output file '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified.pkl' already exists. Saving to '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified_1690534788.pkl' instead.
[2023-07-28 16:59:48] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/feat_modified_1690534788.pkl'.
[2023-07-28 16:59:48] - INFO - Running MSA models for 20230728165640533...
[2023-07-28 16:59:48] - INFO - 
[2023-07-28 16:59:48] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:59:48] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:59:48] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:59:48] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 16:59:48] - INFO - 
[2023-07-28 16:59:48] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:59:48] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:59:48] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:59:48] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 16:59:48] - INFO - 
[2023-07-28 16:59:48] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 16:59:48] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 16:59:48] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 16:59:48] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 16:59:48] - INFO - Initializing BERT text feature extractor...
[2023-07-28 16:59:49] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript.txt'.
[2023-07-28 16:59:49] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 16:59:49] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:59:49] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 16:59:49] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/raw_video.mp4'.
[2023-07-28 16:59:51] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/transcript_modified.txt'.
[2023-07-28 16:59:51] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 16:59:51] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728165640533/modified_video.mp4'.
[2023-07-28 17:00:28] - INFO - ========================= Program Started =========================
[2023-07-28 17:00:28] - INFO - [PID: 3266930] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 17:00:28] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 17:01:04] - INFO - API called: /uploadVideo
[2023-07-28 17:01:04] - INFO - Uploaded video, ID: 20230728170104583
[2023-07-28 17:01:04] - INFO - Converting video 20230728170104583 to mp4...
[2023-07-28 17:01:05] - INFO - Conversion done.
[2023-07-28 17:01:05] - INFO - API called: /callASR
[2023-07-28 17:01:05] - INFO - Extracting audio from 20230728170104583...
[2023-07-28 17:01:05] - INFO - Extraction done.
[2023-07-28 17:01:05] - INFO - Running ASR for 20230728170104583...
[2023-07-28 17:01:09] - INFO - ASR done.
[2023-07-28 17:01:12] - INFO - API called: /uploadTranscript
[2023-07-28 17:01:12] - INFO - Running alignment for 20230728170104583...
[2023-07-28 17:01:14] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 17:01:14] - INFO - Alignment done.
[2023-07-28 17:01:18] - INFO - API called: /videoEditAligned
[2023-07-28 17:01:18] - INFO - Editing video 20230728170104583...
[2023-07-28 17:01:23] - INFO - API called: /runMSAAligned
[2023-07-28 17:01:23] - INFO - 
[2023-07-28 17:01:23] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:01:23] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:01:23] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:01:23] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 17:01:23] - INFO - Extracting features from original video 20230728170104583...
[2023-07-28 17:01:23] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 17:01:23] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 17:01:23] - INFO - Initializing BERT text feature extractor...
[2023-07-28 17:01:24] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 17:01:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/raw_video.mp4'.
[2023-07-28 17:01:28] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 17:01:28] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/feat_original.pkl'.
[2023-07-28 17:01:28] - INFO - Extracting features from modified video 20230728170104583...
[2023-07-28 17:01:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/modified_video.mp4'.
[2023-07-28 17:01:31] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 17:01:31] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/feat_modified.pkl'.
[2023-07-28 17:01:31] - INFO - Running MSA models for 20230728170104583...
[2023-07-28 17:01:31] - INFO - 
[2023-07-28 17:01:31] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:01:31] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:01:31] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:01:31] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 17:01:31] - INFO - 
[2023-07-28 17:01:31] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:01:31] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:01:31] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:01:31] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 17:01:31] - INFO - 
[2023-07-28 17:01:31] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:01:31] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:01:31] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:01:31] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 17:01:31] - INFO - Initializing BERT text feature extractor...
[2023-07-28 17:01:31] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/transcript.txt'.
[2023-07-28 17:01:31] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 17:01:32] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/raw_video.mp4'.
[2023-07-28 17:01:32] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 17:01:32] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/raw_video.mp4'.
[2023-07-28 17:01:33] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/transcript_modified.txt'.
[2023-07-28 17:01:33] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/modified_video.mp4'.
[2023-07-28 17:01:33] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728170104583/modified_video.mp4'.
[2023-07-28 17:39:26] - INFO - ========================= Program Started =========================
[2023-07-28 17:39:26] - INFO - [PID: 3284999] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 17:39:26] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 17:39:42] - INFO - API called: /uploadVideo
[2023-07-28 17:39:42] - INFO - Uploaded video, ID: 20230728173942578
[2023-07-28 17:39:42] - INFO - Converting video 20230728173942578 to mp4...
[2023-07-28 17:39:42] - INFO - Conversion done.
[2023-07-28 17:39:42] - INFO - API called: /callASR
[2023-07-28 17:39:42] - INFO - Extracting audio from 20230728173942578...
[2023-07-28 17:39:42] - INFO - Extraction done.
[2023-07-28 17:39:42] - INFO - Running ASR for 20230728173942578...
[2023-07-28 17:39:47] - INFO - ASR done.
[2023-07-28 17:39:49] - INFO - API called: /uploadTranscript
[2023-07-28 17:39:49] - INFO - Running alignment for 20230728173942578...
[2023-07-28 17:39:51] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 17:39:51] - INFO - Alignment done.
[2023-07-28 17:39:55] - INFO - API called: /videoEditAligned
[2023-07-28 17:39:55] - INFO - Editing video 20230728173942578...
[2023-07-28 17:40:00] - INFO - API called: /runMSAAligned
[2023-07-28 17:40:00] - INFO - 
[2023-07-28 17:40:00] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:40:00] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:40:00] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:40:00] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 17:40:00] - INFO - Data-Level Defence for 20230728173942578...
[2023-07-28 17:40:00] - INFO - Audio Denoising...
[2023-07-28 17:40:00] - INFO - Video MCI...
[2023-07-28 17:40:03] - INFO - Extracting features from original video 20230728173942578...
[2023-07-28 17:40:03] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 17:40:03] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 17:40:03] - INFO - Initializing BERT text feature extractor...
[2023-07-28 17:40:04] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 17:40:06] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/raw_video.mp4'.
[2023-07-28 17:40:08] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 17:40:08] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/feat_original.pkl'.
[2023-07-28 17:40:08] - INFO - Extracting features from modified video 20230728173942578...
[2023-07-28 17:40:08] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/modified_video.mp4'.
[2023-07-28 17:40:10] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 17:40:10] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/feat_modified.pkl'.
[2023-07-28 17:40:10] - INFO - Extracting features from defended video 20230728173942578...
[2023-07-28 17:40:10] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/defended_video.mp4'.
[2023-07-28 17:40:13] - INFO - CTC segmentation of 48 chars to 2.39s audio (119 indices).
[2023-07-28 17:40:13] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/feat_defended.pkl'.
[2023-07-28 17:40:13] - INFO - Feature-Level Defence for 20230728173942578...
[2023-07-28 17:40:13] - INFO - Running MSA models for 20230728173942578...
[2023-07-28 17:40:13] - INFO - 
[2023-07-28 17:40:13] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:40:13] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:40:13] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:40:13] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 17:40:13] - INFO - 
[2023-07-28 17:40:13] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:40:13] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:40:13] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:40:13] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 17:40:13] - INFO - 
[2023-07-28 17:40:13] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 17:40:13] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 17:40:13] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 17:40:13] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 17:40:13] - INFO - Initializing BERT text feature extractor...
[2023-07-28 17:40:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/transcript.txt'.
[2023-07-28 17:40:13] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 17:40:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/raw_video.mp4'.
[2023-07-28 17:40:14] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 17:40:14] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/raw_video.mp4'.
[2023-07-28 17:40:15] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/transcript_modified.txt'.
[2023-07-28 17:40:15] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/modified_video.mp4'.
[2023-07-28 17:40:15] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728173942578/modified_video.mp4'.
[2023-07-28 17:40:25] - INFO - Stopping Media Server...
[2023-07-28 17:40:25] - INFO - Media Server stopped.
[2023-07-28 17:40:25] - INFO - Stopping WSGI Server...
[2023-07-28 17:40:25] - INFO - WSGI Server stopped.
[2023-07-28 17:40:25] - INFO - ========================= Program Stopped =========================
[2023-07-28 19:29:39] - INFO - ========================= Program Started =========================
[2023-07-28 19:29:39] - INFO - [PID: 3301200] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 19:29:39] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 19:29:49] - INFO - API called: /uploadVideo
[2023-07-28 19:29:49] - INFO - Uploaded video, ID: 20230728192949001
[2023-07-28 19:29:49] - INFO - Converting video 20230728192949001 to mp4...
[2023-07-28 19:29:49] - INFO - Conversion done.
[2023-07-28 19:29:49] - INFO - API called: /callASR
[2023-07-28 19:29:49] - INFO - Extracting audio from 20230728192949001...
[2023-07-28 19:29:49] - INFO - Extraction done.
[2023-07-28 19:29:49] - INFO - Running ASR for 20230728192949001...
[2023-07-28 19:29:54] - INFO - ASR done.
[2023-07-28 19:29:55] - INFO - API called: /uploadTranscript
[2023-07-28 19:29:56] - INFO - Running alignment for 20230728192949001...
[2023-07-28 19:29:58] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 19:29:58] - INFO - Alignment done.
[2023-07-28 19:30:08] - INFO - API called: /videoEditAligned
[2023-07-28 19:30:08] - INFO - Editing video 20230728192949001...
[2023-07-28 19:30:13] - INFO - API called: /runMSAAligned
[2023-07-28 19:30:13] - INFO - 
[2023-07-28 19:30:13] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:30:13] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:30:13] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:30:13] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 19:30:13] - INFO - Data-Level Defence for 20230728192949001...
[2023-07-28 19:30:13] - INFO - Video MCI...
[2023-07-28 19:30:16] - INFO - Audio Denoising...
[2023-07-28 19:30:16] - INFO - Extracting features from original video 20230728192949001...
[2023-07-28 19:30:16] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 19:30:16] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 19:30:16] - INFO - Initializing BERT text feature extractor...
[2023-07-28 19:30:17] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 19:30:19] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/raw_video.mp4'.
[2023-07-28 19:30:21] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 19:30:21] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/feat_original.pkl'.
[2023-07-28 19:30:21] - INFO - Extracting features from modified video 20230728192949001...
[2023-07-28 19:30:21] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/modified_video.mp4'.
[2023-07-28 19:30:24] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 19:30:24] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/feat_modified.pkl'.
[2023-07-28 19:30:24] - INFO - Extracting features from defended video 20230728192949001...
[2023-07-28 19:30:24] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/defended_video.mp4'.
[2023-07-28 19:30:26] - INFO - CTC segmentation of 48 chars to 2.39s audio (119 indices).
[2023-07-28 19:30:26] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/feat_defended.pkl'.
[2023-07-28 19:30:26] - INFO - Feature-Level Defence for 20230728192949001...
[2023-07-28 19:30:26] - INFO - Running MSA models for 20230728192949001...
[2023-07-28 19:30:26] - INFO - 
[2023-07-28 19:30:26] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:30:26] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:30:26] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:30:26] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 19:30:26] - INFO - 
[2023-07-28 19:30:26] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:30:26] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:30:26] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:30:26] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 19:30:26] - INFO - 
[2023-07-28 19:30:26] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:30:26] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:30:26] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:30:26] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 19:30:26] - INFO - Initializing BERT text feature extractor...
[2023-07-28 19:30:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/transcript.txt'.
[2023-07-28 19:30:27] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 19:30:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/raw_video.mp4'.
[2023-07-28 19:30:27] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 19:30:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/raw_video.mp4'.
[2023-07-28 19:30:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/transcript_modified.txt'.
[2023-07-28 19:30:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/modified_video.mp4'.
[2023-07-28 19:30:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/modified_video.mp4'.
[2023-07-28 19:30:29] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/defended_video.mp4'.
[2023-07-28 19:30:30] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728192949001/defended_video.mp4'.
[2023-07-28 19:34:01] - INFO - ========================= Program Started =========================
[2023-07-28 19:34:01] - INFO - [PID: 3305980] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-28 19:34:01] - INFO - Starting WSGI Server on port 4096...
[2023-07-28 19:34:15] - INFO - API called: /uploadVideo
[2023-07-28 19:34:15] - INFO - Uploaded video, ID: 20230728193415481
[2023-07-28 19:34:15] - INFO - Converting video 20230728193415481 to mp4...
[2023-07-28 19:34:15] - INFO - Conversion done.
[2023-07-28 19:34:15] - INFO - API called: /callASR
[2023-07-28 19:34:15] - INFO - Extracting audio from 20230728193415481...
[2023-07-28 19:34:16] - INFO - Extraction done.
[2023-07-28 19:34:16] - INFO - Running ASR for 20230728193415481...
[2023-07-28 19:34:21] - INFO - ASR done.
[2023-07-28 19:34:23] - INFO - API called: /uploadTranscript
[2023-07-28 19:34:23] - INFO - Running alignment for 20230728193415481...
[2023-07-28 19:34:26] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 19:34:26] - INFO - Alignment done.
[2023-07-28 19:34:30] - INFO - API called: /videoEditAligned
[2023-07-28 19:34:30] - INFO - Editing audio 20230728193415481...
[2023-07-28 19:34:44] - INFO - API called: /runMSAAligned
[2023-07-28 19:34:44] - INFO - 
[2023-07-28 19:34:44] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:34:44] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:34:44] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:34:44] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 19:34:44] - INFO - Data-Level Defence for 20230728193415481...
[2023-07-28 19:34:44] - INFO - Audio Denoising...
[2023-07-28 19:34:44] - INFO - Video MCI...
[2023-07-28 19:34:46] - INFO - Extracting features from original video 20230728193415481...
[2023-07-28 19:34:46] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 19:34:46] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 19:34:46] - INFO - Initializing BERT text feature extractor...
[2023-07-28 19:34:48] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 19:34:50] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/raw_video.mp4'.
[2023-07-28 19:34:52] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 19:34:52] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/feat_original.pkl'.
[2023-07-28 19:34:52] - INFO - Extracting features from modified video 20230728193415481...
[2023-07-28 19:34:52] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/modified_video.mp4'.
[2023-07-28 19:34:54] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 19:34:54] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/feat_modified.pkl'.
[2023-07-28 19:34:54] - INFO - Extracting features from defended video 20230728193415481...
[2023-07-28 19:34:54] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/defended_video.mp4'.
[2023-07-28 19:34:56] - INFO - CTC segmentation of 48 chars to 2.39s audio (119 indices).
[2023-07-28 19:34:56] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/feat_defended.pkl'.
[2023-07-28 19:34:56] - INFO - Feature-Level Defence for 20230728193415481...
[2023-07-28 19:34:56] - INFO - Running MSA models for 20230728193415481...
[2023-07-28 19:34:56] - INFO - 
[2023-07-28 19:34:56] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:34:56] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:34:56] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:34:56] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 19:34:56] - INFO - 
[2023-07-28 19:34:56] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:34:56] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:34:56] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:34:56] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 19:34:56] - INFO - 
[2023-07-28 19:34:56] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 19:34:56] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 19:34:56] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 19:34:56] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 19:34:56] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 19:34:56] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/raw_video.mp4'.
[2023-07-28 19:34:56] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 19:34:56] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/raw_video.mp4'.
[2023-07-28 19:34:57] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/modified_video.mp4'.
[2023-07-28 19:34:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/modified_video.mp4'.
[2023-07-28 19:34:59] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/defended_video.mp4'.
[2023-07-28 19:34:59] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728193415481/defended_video.mp4'.
[2023-07-28 20:31:56] - INFO - API called: /uploadVideo
[2023-07-28 20:31:56] - INFO - Uploaded video, ID: 20230728203156173
[2023-07-28 20:31:56] - INFO - Converting video 20230728203156173 to mp4...
[2023-07-28 20:31:56] - INFO - Conversion done.
[2023-07-28 20:31:56] - INFO - API called: /callASR
[2023-07-28 20:31:56] - INFO - Extracting audio from 20230728203156173...
[2023-07-28 20:31:56] - INFO - Extraction done.
[2023-07-28 20:31:56] - INFO - Running ASR for 20230728203156173...
[2023-07-28 20:31:59] - INFO - ASR done.
[2023-07-28 20:32:00] - INFO - API called: /uploadTranscript
[2023-07-28 20:32:00] - INFO - Running alignment for 20230728203156173...
[2023-07-28 20:32:02] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 20:32:02] - INFO - Alignment done.
[2023-07-28 20:32:47] - INFO - API called: /videoEditAligned
[2023-07-28 20:32:47] - INFO - Editing video 20230728203156173...
[2023-07-28 20:33:43] - INFO - API called: /runMSAAligned
[2023-07-28 20:33:43] - INFO - 
[2023-07-28 20:33:43] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 20:33:43] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 20:33:43] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 20:33:43] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-28 20:33:44] - INFO - Data-Level Defence for 20230728203156173...
[2023-07-28 20:33:44] - INFO - Audio Denoising...
[2023-07-28 20:33:44] - INFO - Video MCI...
[2023-07-28 20:33:47] - INFO - Extracting features from original video 20230728203156173...
[2023-07-28 20:33:47] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 20:33:47] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 20:33:47] - INFO - Initializing BERT text feature extractor...
[2023-07-28 20:33:48] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-28 20:33:50] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/raw_video.mp4'.
[2023-07-28 20:33:52] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 20:33:52] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/feat_original.pkl'.
[2023-07-28 20:33:52] - INFO - Extracting features from modified video 20230728203156173...
[2023-07-28 20:33:52] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/modified_video.mp4'.
[2023-07-28 20:33:55] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-28 20:33:55] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/feat_modified.pkl'.
[2023-07-28 20:33:55] - INFO - Extracting features from defended video 20230728203156173...
[2023-07-28 20:33:55] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/defended_video.mp4'.
[2023-07-28 20:33:57] - INFO - CTC segmentation of 48 chars to 2.39s audio (119 indices).
[2023-07-28 20:33:57] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/feat_defended.pkl'.
[2023-07-28 20:33:57] - INFO - Feature-Level Defence for 20230728203156173...
[2023-07-28 20:33:57] - INFO - Running MSA models for 20230728203156173...
[2023-07-28 20:33:57] - INFO - 
[2023-07-28 20:33:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 20:33:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 20:33:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 20:33:57] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-28 20:33:57] - INFO - 
[2023-07-28 20:33:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 20:33:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 20:33:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 20:33:57] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-28 20:33:57] - INFO - 
[2023-07-28 20:33:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-28 20:33:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-28 20:33:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-28 20:33:57] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-28 20:33:57] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-28 20:33:57] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/raw_video.mp4'.
[2023-07-28 20:33:57] - INFO - Initializing OpenFace video feature extractor...
[2023-07-28 20:33:57] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/raw_video.mp4'.
[2023-07-28 20:33:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/modified_video.mp4'.
[2023-07-28 20:33:59] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/modified_video.mp4'.
[2023-07-28 20:34:00] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/defended_video.mp4'.
[2023-07-28 20:34:00] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230728203156173/defended_video.mp4'.
[2023-07-28 21:10:45] - INFO - API called: /uploadVideo
[2023-07-28 21:10:45] - INFO - Uploaded video, ID: 20230728211045348
[2023-07-28 21:10:45] - INFO - Converting video 20230728211045348 to mp4...
[2023-07-28 21:10:46] - INFO - Conversion done.
[2023-07-28 21:10:46] - INFO - API called: /callASR
[2023-07-28 21:10:46] - INFO - Extracting audio from 20230728211045348...
[2023-07-28 21:10:46] - INFO - Extraction done.
[2023-07-28 21:10:46] - INFO - Running ASR for 20230728211045348...
[2023-07-28 21:10:49] - INFO - ASR done.
[2023-07-28 21:10:54] - INFO - API called: /uploadTranscript
[2023-07-28 21:10:54] - INFO - Running alignment for 20230728211045348...
[2023-07-28 21:10:56] - INFO - CTC segmentation of 135 chars to 12.26s audio (612 indices).
[2023-07-28 21:10:56] - INFO - Alignment done.
[2023-07-29 10:21:28] - INFO - API called: /uploadVideo
[2023-07-29 10:21:28] - INFO - Uploaded video, ID: 20230729102128649
[2023-07-29 10:21:28] - INFO - Converting video 20230729102128649 to mp4...
[2023-07-29 10:21:28] - INFO - Conversion done.
[2023-07-29 10:21:28] - INFO - API called: /callASR
[2023-07-29 10:21:28] - INFO - Extracting audio from 20230729102128649...
[2023-07-29 10:21:28] - INFO - Extraction done.
[2023-07-29 10:21:28] - INFO - Running ASR for 20230729102128649...
[2023-07-29 10:21:31] - INFO - ASR done.
[2023-07-29 10:21:35] - INFO - API called: /uploadTranscript
[2023-07-29 10:21:35] - INFO - Running alignment for 20230729102128649...
[2023-07-29 10:21:37] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-29 10:21:37] - INFO - Alignment done.
[2023-07-29 10:29:45] - INFO - API called: /uploadVideo
[2023-07-29 10:29:45] - INFO - Uploaded video, ID: 20230729102945641
[2023-07-29 10:29:45] - INFO - Converting video 20230729102945641 to mp4...
[2023-07-29 10:29:45] - INFO - Conversion done.
[2023-07-29 10:29:46] - INFO - API called: /callASR
[2023-07-29 10:29:46] - INFO - Extracting audio from 20230729102945641...
[2023-07-29 10:29:46] - INFO - Extraction done.
[2023-07-29 10:29:46] - INFO - Running ASR for 20230729102945641...
[2023-07-29 10:29:49] - INFO - ASR done.
[2023-07-29 10:29:56] - INFO - API called: /uploadTranscript
[2023-07-29 10:29:56] - INFO - Running alignment for 20230729102945641...
[2023-07-29 10:29:58] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-29 10:29:58] - INFO - Alignment done.
[2023-07-29 10:35:22] - INFO - API called: /uploadVideo
[2023-07-29 10:35:22] - INFO - Uploaded video, ID: 20230729103522971
[2023-07-29 10:35:22] - INFO - Converting video 20230729103522971 to mp4...
[2023-07-29 10:35:23] - INFO - Conversion done.
[2023-07-29 10:35:23] - INFO - API called: /callASR
[2023-07-29 10:35:23] - INFO - Extracting audio from 20230729103522971...
[2023-07-29 10:35:23] - INFO - Extraction done.
[2023-07-29 10:35:23] - INFO - Running ASR for 20230729103522971...
[2023-07-29 10:35:27] - INFO - ASR done.
[2023-07-29 10:35:28] - INFO - API called: /uploadTranscript
[2023-07-29 10:35:28] - INFO - Running alignment for 20230729103522971...
[2023-07-29 10:35:30] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-29 10:35:30] - INFO - Alignment done.
[2023-07-29 10:40:34] - INFO - API called: /uploadVideo
[2023-07-29 10:40:34] - INFO - Uploaded video, ID: 20230729104034794
[2023-07-29 10:40:34] - INFO - Converting video 20230729104034794 to mp4...
[2023-07-29 10:40:34] - INFO - Conversion done.
[2023-07-29 10:40:34] - INFO - API called: /callASR
[2023-07-29 10:40:34] - INFO - Extracting audio from 20230729104034794...
[2023-07-29 10:40:35] - INFO - Extraction done.
[2023-07-29 10:40:35] - INFO - Running ASR for 20230729104034794...
[2023-07-29 10:40:38] - INFO - ASR done.
[2023-07-29 10:40:45] - INFO - API called: /uploadTranscript
[2023-07-29 10:40:45] - INFO - Running alignment for 20230729104034794...
[2023-07-29 10:40:47] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-29 10:40:47] - INFO - Alignment done.
[2023-07-29 11:57:25] - INFO - API called: /uploadVideo
[2023-07-29 11:57:26] - INFO - Uploaded video, ID: 20230729115726109
[2023-07-29 11:57:26] - INFO - Converting video 20230729115726109 to mp4...
[2023-07-29 11:57:26] - INFO - Conversion done.
[2023-07-29 11:57:26] - INFO - API called: /callASR
[2023-07-29 11:57:26] - INFO - Extracting audio from 20230729115726109...
[2023-07-29 11:57:27] - INFO - Extraction done.
[2023-07-29 11:57:27] - INFO - Running ASR for 20230729115726109...
[2023-07-29 11:57:30] - INFO - ASR done.
[2023-07-29 11:57:32] - INFO - API called: /uploadTranscript
[2023-07-29 11:57:32] - INFO - Running alignment for 20230729115726109...
[2023-07-29 11:57:34] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-29 11:57:34] - INFO - Alignment done.
2023-07-29 15:47:18 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.0,1.0)':color=black:t=fill[v0];[v0]avgblur=sizeX=2:sizeY=2:enable='between(t,1.0,2.0)'[v1];[v1]gblur=sigma=1:enable='between(t,2.0,3.0)'[v2];[v2]noise=alls=20:allf=t:enable='between(t,3.0,4.0)'[v3];[v3]drawbox=enable='between(t,4.0,5.0)':x=100.5:y=100.5:w=100.5:h=100.5:color=black:t=fill[v4];[v4]eq=contrast=0.5:brightness=0:saturation=1:gamma_r=1:gamma_g=1:gamma_b=1:enable='between(t,5.0,6.0)'[v5];[v5]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,6.0,7.0)'[v6];[v6]negate=negate_alpha=1:enable='between(t,7.0,8.0)'[v7]" -map "[v7]" -c:a copy -map 0:a -y test/test_out_v.mp4
2023-07-29 16:16:20 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=1.0:c=pink:r=16000:a=0.8 -y test/tmp/an_0.wav
2023-07-29 16:16:20 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0];[a0]lowpass=f=500:enable='between(t,5.0,6.0)'[a1]" -map "[a1]" -y test/test_out_a.mp4
2023-07-29 16:18:17 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=1.0:c=pink:r=16000:a=0.8 -y test/tmp/an_0.wav
2023-07-29 16:18:17 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0];[a0]lowpass=f=500:enable='between(t,5.0,6.0)'[a1]" -map "[a1]" -y test/test_out_a.mp4
2023-07-29 16:18:17 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test_out_a.mp4.tmp -i test/tmp/an_0.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/background/metro.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/sudden/beep.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/IRs/hall.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=2000.0|2000.0[resample1];[2:a]aresample=16000,atrim=0.0413451188862366:1.0413451188862366,adelay=3000.0|3000.0[resample2];[3:a]aresample=16000,adelay=4000.0|4000.0[resample3];[4:a]aresample=16000[resample4];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0];[a0][resample2]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a1];[a1][resample3]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a2];[a2][resample4]afir=dry=10:wet=10:length=0.8[a3]" -map 0:v -c:v copy -map "[a3]" -y test/test_out_a.mp4
2023-07-29 16:23:23 - Robust-MSA [DEBUG] - {'mode': 'exact', 'v_mode': ['impulse_value', 'occlusion'], 'v_start': [0.34136228801562923, 5.588393145489587], 'v_end': [5.000197004052698, 8.12955842945252], 'v_option': [5.0, (129.96575237048745, 261.4959191377435, 640.0, 360.0)], 'a_mode': ['reverb'], 'a_start': [0.0], 'a_end': [9.0], 'a_option': [('hall', 1)]}
2023-07-29 16:23:52 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]noise=alls=5.0:allf=t:enable='between(t,0.34136228801562923,5.000197004052698)'[v0];[v0]drawbox=enable='between(t,5.588393145489587,8.12955842945252)':x=129.96575237048745:y=261.4959191377435:w=640.0:h=360.0:color=black:t=fill[v1]" -map "[v1]" -c:a copy -map 0:a -y test/test_out.mp4
2023-07-29 16:23:54 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test_out.mp4.tmp -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/IRs/hall.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000[resample1];[resample0][resample1]afir=dry=10:wet=10:length=1[a0]" -map 0:v -c:v copy -map "[a0]" -y test/test_out.mp4
2023-07-29 16:25:26 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.0,9.0)':x=384.0:y=216.0:w=512.0:h=288.0:color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y test/test_out.mp4
2023-07-29 16:25:28 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test_out.mp4.tmp -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/background/white.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,atrim=95.70400136451853:104.70400136451853,adelay=0.0|0.0[resample1];[resample0][resample1]amix=inputs=2:duration=first:weights='1 2.0':dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y test/test_out.mp4
[2023-07-29 17:34:25] - INFO - API called: /uploadVideo
[2023-07-29 17:34:26] - INFO - Uploaded video, ID: 20230729173426136
[2023-07-29 17:34:26] - INFO - Converting video 20230729173426136 to mp4...
[2023-07-29 17:34:26] - INFO - Conversion done.
[2023-07-29 17:34:26] - INFO - API called: /callASR
[2023-07-29 17:34:26] - INFO - Extracting audio from 20230729173426136...
[2023-07-29 17:34:26] - INFO - Extraction done.
[2023-07-29 17:34:26] - INFO - Running ASR for 20230729173426136...
[2023-07-29 17:34:29] - INFO - ASR done.
[2023-07-29 17:34:31] - INFO - API called: /uploadTranscript
[2023-07-29 17:34:31] - INFO - Running alignment for 20230729173426136...
[2023-07-29 17:34:33] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-29 17:34:33] - INFO - Alignment done.
[2023-07-30 12:15:31] - INFO - API called: /uploadVideo
[2023-07-30 12:15:31] - INFO - Uploaded video, ID: 20230730121531100
[2023-07-30 12:15:31] - INFO - Converting video 20230730121531100 to mp4...
[2023-07-30 12:15:31] - INFO - Conversion done.
[2023-07-30 12:15:31] - INFO - API called: /callASR
[2023-07-30 12:15:31] - INFO - Extracting audio from 20230730121531100...
[2023-07-30 12:15:32] - INFO - Extraction done.
[2023-07-30 12:15:32] - INFO - Running ASR for 20230730121531100...
[2023-07-30 12:15:34] - INFO - ASR done.
[2023-07-30 12:46:10] - INFO - API called: /uploadVideo
[2023-07-30 12:46:10] - INFO - Uploaded video, ID: 20230730124610782
[2023-07-30 12:46:10] - INFO - Converting video 20230730124610782 to mp4...
[2023-07-30 12:46:10] - INFO - Conversion done.
[2023-07-30 12:46:10] - INFO - API called: /callASR
[2023-07-30 12:46:10] - INFO - Extracting audio from 20230730124610782...
[2023-07-30 12:46:10] - INFO - Extraction done.
[2023-07-30 12:46:10] - INFO - Running ASR for 20230730124610782...
[2023-07-30 12:46:13] - INFO - ASR done.
[2023-07-30 13:00:38] - INFO - API called: /uploadVideo
[2023-07-30 13:00:38] - INFO - Uploaded video, ID: 20230730130038229
[2023-07-30 13:00:38] - INFO - Converting video 20230730130038229 to mp4...
[2023-07-30 13:00:39] - INFO - Conversion done.
[2023-07-30 13:00:39] - INFO - API called: /callASR
[2023-07-30 13:00:39] - INFO - Extracting audio from 20230730130038229...
[2023-07-30 13:00:39] - INFO - Extraction done.
[2023-07-30 13:00:39] - INFO - Running ASR for 20230730130038229...
[2023-07-30 13:00:42] - INFO - ASR done.
[2023-07-30 13:00:43] - INFO - API called: /uploadTranscript
[2023-07-30 13:00:43] - INFO - Running alignment for 20230730130038229...
[2023-07-30 13:00:45] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 13:00:45] - INFO - Alignment done.
[2023-07-30 13:03:37] - INFO - API called: /uploadVideo
[2023-07-30 13:03:37] - INFO - Uploaded video, ID: 20230730130337572
[2023-07-30 13:03:37] - INFO - Converting video 20230730130337572 to mp4...
[2023-07-30 13:03:38] - INFO - Conversion done.
[2023-07-30 13:03:38] - INFO - API called: /callASR
[2023-07-30 13:03:38] - INFO - Extracting audio from 20230730130337572...
[2023-07-30 13:03:38] - INFO - Extraction done.
[2023-07-30 13:03:38] - INFO - Running ASR for 20230730130337572...
[2023-07-30 13:03:41] - INFO - ASR done.
[2023-07-30 13:03:43] - INFO - API called: /uploadTranscript
[2023-07-30 13:03:43] - INFO - Running alignment for 20230730130337572...
[2023-07-30 13:03:45] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 13:03:45] - INFO - Alignment done.
[2023-07-30 13:17:30] - INFO - API called: /uploadVideo
[2023-07-30 13:17:30] - INFO - Uploaded video, ID: 20230730131730873
[2023-07-30 13:17:30] - INFO - Converting video 20230730131730873 to mp4...
[2023-07-30 13:17:30] - INFO - Conversion done.
[2023-07-30 13:17:30] - INFO - API called: /callASR
[2023-07-30 13:17:30] - INFO - Extracting audio from 20230730131730873...
[2023-07-30 13:17:30] - INFO - Extraction done.
[2023-07-30 13:17:30] - INFO - Running ASR for 20230730131730873...
[2023-07-30 13:17:33] - INFO - ASR done.
[2023-07-30 13:17:34] - INFO - API called: /uploadTranscript
[2023-07-30 13:17:34] - INFO - Running alignment for 20230730131730873...
[2023-07-30 13:17:36] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 13:17:36] - INFO - Alignment done.
[2023-07-30 13:26:15] - INFO - API called: /uploadVideo
[2023-07-30 13:26:15] - INFO - Uploaded video, ID: 20230730132615847
[2023-07-30 13:26:15] - INFO - Converting video 20230730132615847 to mp4...
[2023-07-30 13:26:15] - INFO - Conversion done.
[2023-07-30 13:26:15] - INFO - API called: /callASR
[2023-07-30 13:26:15] - INFO - Extracting audio from 20230730132615847...
[2023-07-30 13:26:15] - INFO - Extraction done.
[2023-07-30 13:26:15] - INFO - Running ASR for 20230730132615847...
[2023-07-30 13:26:18] - INFO - ASR done.
[2023-07-30 13:26:20] - INFO - API called: /uploadTranscript
[2023-07-30 13:26:20] - INFO - Running alignment for 20230730132615847...
[2023-07-30 13:26:22] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 13:26:22] - INFO - Alignment done.
[2023-07-30 13:27:01] - INFO - API called: /videoEditAligned
[2023-07-30 13:27:14] - INFO - API called: /runMSAAligned
[2023-07-30 13:27:14] - INFO - 
[2023-07-30 13:27:14] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 13:27:14] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 13:27:14] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 13:27:14] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-30 13:27:14] - INFO - Data-Level Defence for 20230730132615847...
[2023-07-30 13:27:14] - INFO - Extracting features from original video 20230730132615847...
[2023-07-30 13:27:14] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-30 13:27:14] - INFO - Initializing OpenFace video feature extractor...
[2023-07-30 13:27:14] - INFO - Initializing BERT text feature extractor...
[2023-07-30 13:27:14] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-30 13:27:16] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/raw_video.mp4'.
[2023-07-30 13:27:19] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 13:27:19] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/feat_original.pkl'.
[2023-07-30 13:27:19] - INFO - Extracting features from modified video 20230730132615847...
[2023-07-30 13:27:19] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/modified_video.mp4'.
[2023-07-30 13:27:21] - INFO - CTC segmentation of 41 chars to 2.41s audio (120 indices).
[2023-07-30 13:27:21] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/feat_modified.pkl'.
[2023-07-30 13:27:21] - INFO - Feature-Level Defence for 20230730132615847...
[2023-07-30 13:27:21] - INFO - Running MSA models for 20230730132615847...
[2023-07-30 13:27:21] - INFO - 
[2023-07-30 13:27:21] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 13:27:21] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 13:27:21] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 13:27:21] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-30 13:27:21] - INFO - 
[2023-07-30 13:27:21] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 13:27:21] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 13:27:21] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 13:27:21] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-30 13:27:21] - INFO - 
[2023-07-30 13:27:21] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 13:27:21] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 13:27:21] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 13:27:21] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-30 13:27:21] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-30 13:27:21] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/raw_video.mp4'.
[2023-07-30 13:27:21] - INFO - Initializing OpenFace video feature extractor...
[2023-07-30 13:27:21] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/raw_video.mp4'.
[2023-07-30 13:27:22] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/modified_video.mp4'.
[2023-07-30 13:27:22] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730132615847/modified_video.mp4'.
[2023-07-30 14:55:16] - INFO - API called: /uploadVideo
[2023-07-30 14:55:16] - INFO - Uploaded video, ID: 20230730145516630
[2023-07-30 14:55:16] - INFO - Converting video 20230730145516630 to mp4...
[2023-07-30 14:55:16] - INFO - Conversion done.
[2023-07-30 14:55:16] - INFO - API called: /callASR
[2023-07-30 14:55:16] - INFO - Extracting audio from 20230730145516630...
[2023-07-30 14:55:17] - INFO - Extraction done.
[2023-07-30 14:55:17] - INFO - Running ASR for 20230730145516630...
[2023-07-30 14:55:20] - INFO - ASR done.
[2023-07-30 14:55:25] - INFO - API called: /uploadTranscript
[2023-07-30 14:55:25] - INFO - Running alignment for 20230730145516630...
[2023-07-30 14:55:26] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 14:55:26] - INFO - Alignment done.
[2023-07-30 14:55:53] - INFO - API called: /videoEditAligned
[2023-07-30 14:56:03] - INFO - API called: /runMSAAligned
[2023-07-30 14:56:03] - INFO - 
[2023-07-30 14:56:03] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 14:56:03] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 14:56:03] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 14:56:03] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-30 14:56:03] - INFO - Data-Level Defence for 20230730145516630...
[2023-07-30 14:56:03] - INFO - Video MCI...
[2023-07-30 14:56:06] - INFO - Audio Denoising...
[2023-07-30 14:56:06] - INFO - Extracting features from original video 20230730145516630...
[2023-07-30 14:56:06] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-30 14:56:06] - INFO - Initializing OpenFace video feature extractor...
[2023-07-30 14:56:06] - INFO - Initializing BERT text feature extractor...
[2023-07-30 14:56:07] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-30 14:56:09] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/raw_video.mp4'.
[2023-07-30 14:56:11] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 14:56:11] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/feat_original.pkl'.
[2023-07-30 14:56:11] - INFO - Extracting features from modified video 20230730145516630...
[2023-07-30 14:56:11] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/modified_video.mp4'.
[2023-07-30 14:56:13] - INFO - CTC segmentation of 41 chars to 2.41s audio (120 indices).
[2023-07-30 14:56:13] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/feat_modified.pkl'.
[2023-07-30 14:56:13] - INFO - Extracting features from defended video 20230730145516630...
[2023-07-30 14:56:13] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/defended_video.mp4'.
[2023-07-30 14:56:15] - INFO - CTC segmentation of 41 chars to 2.39s audio (119 indices).
[2023-07-30 14:56:15] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/feat_defended.pkl'.
[2023-07-30 14:56:15] - INFO - Feature-Level Defence for 20230730145516630...
[2023-07-30 14:56:15] - INFO - Running MSA models for 20230730145516630...
[2023-07-30 14:56:15] - INFO - 
[2023-07-30 14:56:15] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 14:56:15] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 14:56:15] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 14:56:15] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-30 14:56:15] - INFO - 
[2023-07-30 14:56:15] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 14:56:15] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 14:56:15] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 14:56:15] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-30 14:56:15] - INFO - 
[2023-07-30 14:56:15] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-30 14:56:15] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-30 14:56:15] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-30 14:56:15] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-30 14:56:15] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-30 14:56:15] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/raw_video.mp4'.
[2023-07-30 14:56:16] - INFO - Initializing OpenFace video feature extractor...
[2023-07-30 14:56:16] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/raw_video.mp4'.
[2023-07-30 14:56:17] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/modified_video.mp4'.
[2023-07-30 14:56:17] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/modified_video.mp4'.
[2023-07-30 14:56:18] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/defended_video.mp4'.
[2023-07-30 14:56:18] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230730145516630/defended_video.mp4'.
[2023-07-30 16:05:04] - INFO - API called: /videoEditAligned
[2023-07-30 16:05:04] - ERROR - [Errno 2] No such file or directory: '/home/zhangbaozheng/emotional/Robust-MSA/media/raw_video.mp4'
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 119, in edit_video_aligned
    shutil.copyfile(raw_video_path, modified_video_path)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/shutil.py", line 254, in copyfile
    with open(src, 'rb') as fsrc:
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/emotional/Robust-MSA/media/raw_video.mp4'
[2023-07-30 22:37:32] - INFO - ========================= Program Started =========================
[2023-07-30 22:37:32] - INFO - [PID: 3740062] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-30 22:37:32] - INFO - Starting WSGI Server on port 4096...
[2023-07-30 22:37:32] - ERROR - [Errno 98] Address already in use
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/httpServer.py", line 22, in http_server
    server_obj = HTTPServer(server_address, CORSRequestHandler) # 创建服务器对象
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/socketserver.py", line 452, in __init__
    self.server_bind()
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/http/server.py", line 137, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/socketserver.py", line 466, in server_bind
    self.socket.bind(self.server_address)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/gevent/_socketcommon.py", line 547, in bind
    return self._sock.bind(address)
OSError: [Errno 98] Address already in use
[2023-07-30 22:38:52] - INFO - ========================= Program Started =========================
[2023-07-30 22:38:52] - INFO - [PID: 3740622] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-30 22:38:52] - INFO - Starting WSGI Server on port 4096...
[2023-07-30 22:38:52] - ERROR - [Errno 98] Address already in use
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/httpServer.py", line 22, in http_server
    server_obj = HTTPServer(server_address, CORSRequestHandler) # 创建服务器对象
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/socketserver.py", line 452, in __init__
    self.server_bind()
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/http/server.py", line 137, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/socketserver.py", line 466, in server_bind
    self.socket.bind(self.server_address)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/gevent/_socketcommon.py", line 547, in bind
    return self._sock.bind(address)
OSError: [Errno 98] Address already in use
[2023-07-30 22:39:11] - INFO - Stopping Media Server...
[2023-07-30 22:39:11] - INFO - Stopping WSGI Server...
[2023-07-30 22:39:11] - INFO - Media Server stopped.
[2023-07-30 22:39:11] - INFO - WSGI Server stopped.
[2023-07-30 22:39:11] - INFO - ========================= Program Stopped =========================
[2023-07-30 22:39:19] - INFO - ========================= Program Started =========================
[2023-07-30 22:39:19] - INFO - [PID: 3741002] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-30 22:39:19] - INFO - Starting WSGI Server on port 4096...
[2023-07-30 22:40:31] - INFO - API called: /uploadVideo
[2023-07-30 22:40:31] - INFO - Uploaded video, ID: 20230730224031411
[2023-07-30 22:40:31] - INFO - Converting video 20230730224031411 to mp4...
[2023-07-30 22:40:31] - INFO - Conversion done.
[2023-07-30 22:40:31] - INFO - API called: /callASR
[2023-07-30 22:40:31] - INFO - Extracting audio from 20230730224031411...
[2023-07-30 22:40:31] - INFO - Extraction done.
[2023-07-30 22:40:31] - INFO - Running ASR for 20230730224031411...
[2023-07-30 22:40:38] - INFO - ASR done.
[2023-07-30 22:40:40] - INFO - API called: /uploadTranscript
[2023-07-30 22:40:40] - INFO - Running alignment for 20230730224031411...
[2023-07-30 22:40:44] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 22:40:44] - INFO - Alignment done.
[2023-07-30 22:42:06] - INFO - API called: /videoEditAligned
[2023-07-30 22:56:58] - INFO - ========================= Program Started =========================
[2023-07-30 22:56:58] - INFO - [PID: 3745334] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-30 22:56:58] - INFO - Starting WSGI Server on port 4096...
[2023-07-30 22:57:22] - INFO - API called: /uploadVideo
[2023-07-30 22:57:22] - INFO - Uploaded video, ID: 20230730225722299
[2023-07-30 22:57:22] - INFO - Converting video 20230730225722299 to mp4...
[2023-07-30 22:57:22] - INFO - Conversion done.
[2023-07-30 22:57:22] - INFO - API called: /callASR
[2023-07-30 22:57:22] - INFO - Extracting audio from 20230730225722299...
[2023-07-30 22:57:23] - INFO - Extraction done.
[2023-07-30 22:57:23] - INFO - Running ASR for 20230730225722299...
[2023-07-30 22:57:28] - INFO - ASR done.
[2023-07-30 22:57:32] - INFO - API called: /uploadTranscript
[2023-07-30 22:57:32] - INFO - Running alignment for 20230730225722299...
[2023-07-30 22:57:35] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 22:57:35] - INFO - Alignment done.
[2023-07-30 23:03:22] - INFO - API called: /uploadVideo
[2023-07-30 23:03:22] - INFO - Uploaded video, ID: 20230730230322681
[2023-07-30 23:03:22] - INFO - Converting video 20230730230322681 to mp4...
[2023-07-30 23:03:23] - INFO - Conversion done.
[2023-07-30 23:03:23] - INFO - API called: /callASR
[2023-07-30 23:03:23] - INFO - Extracting audio from 20230730230322681...
[2023-07-30 23:03:23] - INFO - Extraction done.
[2023-07-30 23:03:23] - INFO - Running ASR for 20230730230322681...
[2023-07-30 23:03:26] - INFO - ASR done.
[2023-07-30 23:03:29] - INFO - API called: /uploadTranscript
[2023-07-30 23:03:29] - INFO - Running alignment for 20230730230322681...
[2023-07-30 23:03:30] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 23:03:30] - INFO - Alignment done.
[2023-07-30 23:06:20] - INFO - API called: /videoEditAligned
2023-07-30 23:14:50 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.0,1.0)':color=black:t=fill[v0];[v0]avgblur=sizeX=2:sizeY=2:enable='between(t,1.0,2.0)'[v1];[v1]gblur=sigma=1:enable='between(t,2.0,3.0)'[v2];[v2]noise=alls=20:allf=t:enable='between(t,3.0,4.0)'[v3];[v3]drawbox=enable='between(t,4.0,5.0)':x=100.5:y=100.5:w=100.5:h=100.5:color=black:t=fill[v4];[v4]eq=contrast=0.5:brightness=0:saturation=1:gamma_r=1:gamma_g=1:gamma_b=1:enable='between(t,5.0,6.0)'[v5];[v5]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,6.0,7.0)'[v6];[v6]negate=negate_alpha=1:enable='between(t,7.0,8.0)'[v7]" -map "[v7]" -c:a copy -map 0:a -y test/test_out_v.mp4
2023-07-30 23:15:24 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.0,1.0)':color=black:t=fill[v0];[v0]avgblur=sizeX=2:sizeY=2:enable='between(t,1.0,2.0)'[v1];[v1]gblur=sigma=1:enable='between(t,2.0,3.0)'[v2];[v2]noise=alls=20:allf=t:enable='between(t,3.0,4.0)'[v3];[v3]drawbox=enable='between(t,4.0,5.0)':x=100.5:y=100.5:w=100.5:h=100.5:color=black:t=fill[v4];[v4]eq=contrast=0.5:brightness=0:saturation=1:gamma_r=1:gamma_g=1:gamma_b=1:enable='between(t,5.0,6.0)'[v5];[v5]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,6.0,7.0)'[v6];[v6]negate=negate_alpha=1:enable='between(t,7.0,8.0)'[v7]" -map "[v7]" -c:a copy -map 0:a -y test/test_out_v.mp4
[2023-07-30 23:21:14] - INFO - ========================= Program Started =========================
[2023-07-30 23:21:14] - INFO - [PID: 3753670] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-30 23:21:14] - INFO - Starting WSGI Server on port 4096...
[2023-07-30 23:21:28] - INFO - API called: /uploadVideo
[2023-07-30 23:21:28] - INFO - Uploaded video, ID: 20230730232128369
[2023-07-30 23:21:28] - INFO - Converting video 20230730232128369 to mp4...
[2023-07-30 23:21:28] - INFO - Conversion done.
[2023-07-30 23:21:28] - INFO - API called: /callASR
[2023-07-30 23:21:28] - INFO - Extracting audio from 20230730232128369...
[2023-07-30 23:21:28] - INFO - Extraction done.
[2023-07-30 23:21:28] - INFO - Running ASR for 20230730232128369...
[2023-07-30 23:21:33] - INFO - ASR done.
[2023-07-30 23:21:34] - INFO - API called: /uploadTranscript
[2023-07-30 23:21:34] - INFO - Running alignment for 20230730232128369...
[2023-07-30 23:21:37] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-30 23:21:37] - INFO - Alignment done.
[2023-07-30 23:22:55] - INFO - API called: /videoEditAligned
2023-07-30 23:23:25 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230730232128369/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0];[v0]drawbox=enable='between(t,1.8213,2.0)':x=4:y=4:w=100:h=100:color=black:t=fill[v1]" -map "[v1]" -c:a copy -map 0:a -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230730232128369/modified_video.mp4
[2023-07-30 23:23:25] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230730232128369/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0];[v0]drawbox=enable='between(t,1.8213,2.0)':x=4:y=4:w=100:h=100:color=black:t=fill[v1]" -map "[v1]" -c:a copy -map 0:a -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230730232128369/modified_video.mp4
[2023-07-31 11:38:01] - INFO - ========================= Program Started =========================
[2023-07-31 11:38:01] - INFO - [PID: 3823536] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 11:38:01] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 11:38:48] - INFO - API called: /uploadVideo
[2023-07-31 11:38:48] - INFO - Uploaded video, ID: 20230731113848473
[2023-07-31 11:38:48] - INFO - Converting video 20230731113848473 to mp4...
[2023-07-31 11:38:48] - INFO - Conversion done.
[2023-07-31 11:38:48] - INFO - API called: /callASR
[2023-07-31 11:38:48] - INFO - Extracting audio from 20230731113848473...
[2023-07-31 11:38:48] - INFO - Extraction done.
[2023-07-31 11:38:48] - INFO - Running ASR for 20230731113848473...
[2023-07-31 11:38:53] - INFO - ASR done.
[2023-07-31 11:38:57] - INFO - API called: /uploadTranscript
[2023-07-31 11:38:57] - INFO - Running alignment for 20230731113848473...
[2023-07-31 11:38:59] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 11:38:59] - INFO - Alignment done.
[2023-07-31 11:40:46] - INFO - API called: /videoEditAligned
2023-07-31 11:40:59 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':x=4:y=4:w=500:h=300:color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/modified_video.mp4
[2023-07-31 11:40:59] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':x=4:y=4:w=500:h=300:color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/modified_video.mp4
[2023-07-31 11:40:59] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x555fdef273c0] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x555fdef273c0] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 11:41:51] - INFO - API called: /videoEditAligned
2023-07-31 11:41:52 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':x=4:y=4:w=500:h=300:color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/modified_video.mp4
[2023-07-31 11:41:52] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':x=4:y=4:w=500:h=300:color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/modified_video.mp4
[2023-07-31 11:41:52] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x5611cf2443c0] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731113848473/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x5611cf2443c0] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 11:42:05] - INFO - API called: /videoEditAligned
2023-07-31 11:43:18 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=1.0:c=pink:r=16000:a=0.8 -y test/tmp/an_0.wav
2023-07-31 11:43:18 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.0,1.0)':color=black:t=fill[v0];[v0]avgblur=sizeX=2:sizeY=2:enable='between(t,1.0,2.0)'[v1];[v1]gblur=sigma=1:enable='between(t,2.0,3.0)'[v2];[v2]noise=alls=20:allf=t:enable='between(t,3.0,4.0)'[v3];[v3]drawbox=enable='between(t,4.0,5.0)':x=100.5:y=100.5:w=100.5:h=100.5:color=black:t=fill[v4];[v4]eq=contrast=0.5:brightness=0:saturation=1:gamma_r=1:gamma_g=1:gamma_b=1:enable='between(t,5.0,6.0)'[v5];[v5]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,6.0,7.0)'[v6];[v6]negate=negate_alpha=1:enable='between(t,7.0,8.0)'[v7]" -map "[v7]" -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0];[a0]lowpass=f=500:enable='between(t,5.0,6.0)'[a1]" -map "[a1]" -y test/test_out.mp4
2023-07-31 11:43:21 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test_out.mp4.tmp -i test/tmp/an_0.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/background/white.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/sudden/thunder.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/IRs/hall.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=2000.0|2000.0[resample1];[2:a]aresample=16000,atrim=0.2442674324323295:1.2442674324323297,adelay=3000.0|3000.0[resample2];[3:a]aresample=16000,adelay=4000.0|4000.0[resample3];[4:a]aresample=16000[resample4];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0];[a0][resample2]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a1];[a1][resample3]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a2];[a2][resample4]afir=dry=10:wet=10:length=0.8[a3]" -map 0:v -c:v copy -map "[a3]" -y test/test_out.mp4
[2023-07-31 11:43:51] - INFO - ========================= Program Started =========================
[2023-07-31 11:43:51] - INFO - [PID: 3827373] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 11:43:51] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 11:44:16] - INFO - API called: /uploadVideo
[2023-07-31 11:44:16] - INFO - Uploaded video, ID: 20230731114416493
[2023-07-31 11:44:16] - INFO - Converting video 20230731114416493 to mp4...
[2023-07-31 11:44:16] - INFO - Conversion done.
[2023-07-31 11:44:16] - INFO - API called: /callASR
[2023-07-31 11:44:16] - INFO - Extracting audio from 20230731114416493...
[2023-07-31 11:44:16] - INFO - Extraction done.
[2023-07-31 11:44:16] - INFO - Running ASR for 20230731114416493...
[2023-07-31 11:44:21] - INFO - ASR done.
[2023-07-31 11:44:22] - INFO - API called: /uploadTranscript
[2023-07-31 11:44:22] - INFO - Running alignment for 20230731114416493...
[2023-07-31 11:44:25] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 11:44:25] - INFO - Alignment done.
[2023-07-31 11:45:09] - INFO - API called: /videoEditAligned
[2023-07-31 11:45:28] - ERROR - list index out of range
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 184, in edit_video_aligned
    word_id = t[0][3]
IndexError: list index out of range
[2023-07-31 11:46:07] - INFO - API called: /videoEditAligned
2023-07-31 11:46:34 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731114416493/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731114416493/modified_video.mp4
[2023-07-31 11:46:34] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731114416493/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731114416493/modified_video.mp4
[2023-07-31 11:46:37] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731114416493/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x56099202c180] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731114416493/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x56099202c180] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
2023-07-31 11:47:07 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=1.0:c=pink:r=16000:a=0.8 -y test/tmp/an_0.wav
2023-07-31 11:47:07 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.0,1.0)':color=black:t=fill[v0];[v0]avgblur=sizeX=2:sizeY=2:enable='between(t,1.0,2.0)'[v1];[v1]gblur=sigma=1:enable='between(t,2.0,3.0)'[v2];[v2]noise=alls=20:allf=t:enable='between(t,3.0,4.0)'[v3];[v3]drawbox=enable='between(t,4.0,5.0)':x=100.5:y=100.5:w=100.5:h=100.5:color=black:t=fill[v4];[v4]eq=contrast=0.5:brightness=0:saturation=1:gamma_r=1:gamma_g=1:gamma_b=1:enable='between(t,5.0,6.0)'[v5];[v5]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,6.0,7.0)'[v6];[v6]negate=negate_alpha=1:enable='between(t,7.0,8.0)'[v7]" -map "[v7]" -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0];[a0]lowpass=f=500:enable='between(t,5.0,6.0)'[a1]" -map "[a1]" -y test/test_out.mp4
2023-07-31 11:47:10 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test_out.mp4.tmp -i test/tmp/an_0.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/background/traffic.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/sudden/dog.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/IRs/hall.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=2000.0|2000.0[resample1];[2:a]aresample=16000,atrim=0.4102846735237522:1.4102846735237522,adelay=3000.0|3000.0[resample2];[3:a]aresample=16000,adelay=4000.0|4000.0[resample3];[4:a]aresample=16000[resample4];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0];[a0][resample2]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a1];[a1][resample3]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a2];[a2][resample4]afir=dry=10:wet=10:length=0.8[a3]" -map 0:v -c:v copy -map "[a3]" -y test/test_out.mp4
2023-07-31 11:48:12 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=1.0:c=pink:r=16000:a=0.8 -y test/tmp/an_0.wav
2023-07-31 11:48:12 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0];[a0]lowpass=f=500:enable='between(t,5.0,6.0)'[a1]" -map "[a1]" -y test/test_out.mp4
2023-07-31 11:48:12 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test_out.mp4.tmp -i test/tmp/an_0.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/background/office.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/sudden/thunder.wav -i /home/zhangbaozheng/emotional/Robust-MSA/modal_api/assets/noise/IRs/hall.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=2000.0|2000.0[resample1];[2:a]aresample=16000,atrim=0.9718856435857651:1.9718856435857655,adelay=3000.0|3000.0[resample2];[3:a]aresample=16000,adelay=4000.0|4000.0[resample3];[4:a]aresample=16000[resample4];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0];[a0][resample2]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a1];[a1][resample3]amix=inputs=2:duration=first:weights='1 0.8':dropout_transition=0[a2];[a2][resample4]afir=dry=10:wet=10:length=0.8[a3]" -map 0:v -c:v copy -map "[a3]" -y test/test_out.mp4
2023-07-31 11:50:49 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out.mp4
2023-07-31 11:51:23 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out.mp4
2023-07-31 11:53:10 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out.mp4
2023-07-31 11:53:30 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out.mp4
2023-07-31 11:56:03 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0]" -map "[a0]" -y test/test_out_a.mp4
2023-07-31 11:56:11 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0,1.0)':volume=0.5[a0]" -map "[a0]" -y test/test_out_a.mp4
2023-07-31 11:56:32 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out_a.mp4
2023-07-31 11:59:13 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out_a.mp4
2023-07-31 16:37:38 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out_a.mp4
[2023-07-31 16:38:37] - INFO - ========================= Program Started =========================
[2023-07-31 16:38:37] - INFO - [PID: 3871059] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 16:38:37] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 16:38:59] - INFO - API called: /uploadVideo
[2023-07-31 16:38:59] - INFO - Uploaded video, ID: 20230731163859874
[2023-07-31 16:38:59] - INFO - Converting video 20230731163859874 to mp4...
[2023-07-31 16:38:59] - INFO - Conversion done.
[2023-07-31 16:39:00] - INFO - API called: /callASR
[2023-07-31 16:39:00] - INFO - Extracting audio from 20230731163859874...
[2023-07-31 16:39:00] - INFO - Extraction done.
[2023-07-31 16:39:00] - INFO - Running ASR for 20230731163859874...
[2023-07-31 16:39:05] - INFO - ASR done.
[2023-07-31 16:39:07] - INFO - API called: /uploadTranscript
[2023-07-31 16:39:07] - INFO - Running alignment for 20230731163859874...
[2023-07-31 16:39:09] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 16:39:09] - INFO - Alignment done.
[2023-07-31 16:39:48] - INFO - API called: /videoEditAligned
2023-07-31 16:40:08 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,1.8213,2.0426)':volume=0.3[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/modified_video.mp4
[2023-07-31 16:40:08] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,1.8213,2.0426)':volume=0.3[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/modified_video.mp4
[2023-07-31 16:41:12] - INFO - API called: /runMSAAligned
[2023-07-31 16:41:12] - INFO - 
[2023-07-31 16:41:12] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 16:41:12] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 16:41:12] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 16:41:12] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-31 16:41:12] - INFO - Data-Level Defence for 20230731163859874...
[2023-07-31 16:41:12] - INFO - Extracting features from original video 20230731163859874...
[2023-07-31 16:41:12] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 16:41:12] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 16:41:12] - INFO - Initializing BERT text feature extractor...
[2023-07-31 16:41:14] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-31 16:41:16] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/raw_video.mp4'.
[2023-07-31 16:41:18] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 16:41:18] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/feat_original.pkl'.
[2023-07-31 16:41:18] - INFO - Extracting features from modified video 20230731163859874...
[2023-07-31 16:41:18] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/modified_video.mp4'.
[2023-07-31 16:41:20] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 16:41:20] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/feat_modified.pkl'.
[2023-07-31 16:41:20] - INFO - Feature-Level Defence for 20230731163859874...
[2023-07-31 16:41:20] - INFO - Running MSA models for 20230731163859874...
[2023-07-31 16:41:20] - INFO - 
[2023-07-31 16:41:20] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 16:41:20] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 16:41:20] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 16:41:20] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-31 16:41:20] - INFO - 
[2023-07-31 16:41:20] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 16:41:20] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 16:41:20] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 16:41:20] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-31 16:41:20] - INFO - 
[2023-07-31 16:41:20] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 16:41:20] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 16:41:20] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 16:41:20] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-31 16:41:20] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 16:41:20] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/raw_video.mp4'.
[2023-07-31 16:41:21] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 16:41:21] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/raw_video.mp4'.
[2023-07-31 16:41:22] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/modified_video.mp4'.
[2023-07-31 16:41:22] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/modified_video.mp4'.
[2023-07-31 16:41:23] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/defended_video.mp4'.
[2023-07-31 16:41:23] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731163859874/defended_video.mp4'.
[2023-07-31 16:41:43] - INFO - API called: /uploadVideo
[2023-07-31 16:41:43] - INFO - Uploaded video, ID: 20230731164143110
[2023-07-31 16:41:43] - INFO - Converting video 20230731164143110 to mp4...
[2023-07-31 16:41:43] - INFO - Conversion done.
[2023-07-31 16:41:43] - INFO - API called: /callASR
[2023-07-31 16:41:43] - INFO - Extracting audio from 20230731164143110...
[2023-07-31 16:41:44] - INFO - Extraction done.
[2023-07-31 16:41:44] - INFO - Running ASR for 20230731164143110...
[2023-07-31 16:41:46] - INFO - ASR done.
[2023-07-31 16:41:48] - INFO - API called: /uploadTranscript
[2023-07-31 16:41:48] - INFO - Running alignment for 20230731164143110...
[2023-07-31 16:41:50] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 16:41:50] - INFO - Alignment done.
2023-07-31 16:44:06 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1,2)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y test/test_out.mp4
[2023-07-31 16:44:32] - INFO - API called: /videoEditAligned
2023-07-31 16:44:33 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/modified_video.mp4
[2023-07-31 16:44:33] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/modified_video.mp4
[2023-07-31 16:44:41] - INFO - Extracting audio from 20230731164143110...
[2023-07-31 16:44:44] - INFO - Extraction done.
[2023-07-31 16:44:45] - INFO - Running ASR for 20230731164143110...
[2023-07-31 16:44:52] - INFO - Running alignment for 20230731164143110...
[2023-07-31 16:44:55] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-07-31 16:44:56] - INFO - Alignment done.
[2023-07-31 16:45:03] - ERROR - list index out of range
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 184, in edit_video_aligned
    word_id = t[0][3]
IndexError: list index out of range
[2023-07-31 16:45:19] - INFO - API called: /videoEditAligned
2023-07-31 16:45:19 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/modified_video.mp4
[2023-07-31 16:45:19] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.4729,0.8352)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164143110/modified_video.mp4
[2023-07-31 16:45:28] - INFO - Extracting audio from 20230731164143110...
[2023-07-31 16:45:28] - INFO - Extraction done.
[2023-07-31 16:45:28] - INFO - Running ASR for 20230731164143110...
[2023-07-31 16:45:30] - INFO - Running alignment for 20230731164143110...
[2023-07-31 16:45:32] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-07-31 16:45:32] - INFO - Alignment done.
[2023-07-31 16:46:29] - INFO - ========================= Program Started =========================
[2023-07-31 16:46:29] - INFO - [PID: 3880053] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 16:46:29] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 16:46:36] - INFO - API called: /uploadVideo
[2023-07-31 16:46:36] - INFO - Uploaded video, ID: 20230731164636230
[2023-07-31 16:46:36] - INFO - Converting video 20230731164636230 to mp4...
[2023-07-31 16:46:36] - INFO - Conversion done.
[2023-07-31 16:46:36] - INFO - API called: /callASR
[2023-07-31 16:46:36] - INFO - Extracting audio from 20230731164636230...
[2023-07-31 16:46:36] - INFO - Extraction done.
[2023-07-31 16:46:36] - INFO - Running ASR for 20230731164636230...
[2023-07-31 16:46:41] - INFO - ASR done.
[2023-07-31 16:46:43] - INFO - API called: /uploadTranscript
[2023-07-31 16:46:43] - INFO - Running alignment for 20230731164636230...
[2023-07-31 16:46:46] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 16:46:46] - INFO - Alignment done.
[2023-07-31 16:47:59] - INFO - API called: /videoEditAligned
2023-07-31 16:47:59 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -filter_complex "[0:v]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,1.0,2.0)'[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:47:59] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -filter_complex "[0:v]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,1.0,2.0)'[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:47:59] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x55a62de54380] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x55a62de54380] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 16:48:16] - INFO - API called: /videoEditAligned
2023-07-31 16:48:16 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:48:16] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:48:16] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x55daa3192180] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x55daa3192180] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 16:48:58] - INFO - API called: /videoEditAligned
2023-07-31 16:48:58 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0503,0.2516)':volume=0.4[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:48:58] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0503,0.2516)':volume=0.4[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:49:10] - ERROR - list index out of range
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 184, in edit_video_aligned
    word_id = t[0][2]
IndexError: list index out of range
[2023-07-31 16:49:35] - INFO - API called: /videoEditAligned
2023-07-31 16:49:35 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0503,0.2516)':volume=0.4[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:49:35] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0503,0.2516)':volume=0.4[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:49:44] - ERROR - list index out of range
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 184, in edit_video_aligned
    word_id = t[0][2]
IndexError: list index out of range
[2023-07-31 16:49:50] - INFO - API called: /videoEditAligned
2023-07-31 16:49:51 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0503,0.2516)':volume=0.4[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:49:51] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0503,0.2516)':volume=0.4[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731164636230/modified_video.mp4
[2023-07-31 16:49:51] - INFO - Extracting audio from 20230731164636230...
[2023-07-31 16:49:51] - INFO - Extraction done.
[2023-07-31 16:49:51] - INFO - Running ASR for 20230731164636230...
[2023-07-31 16:49:55] - INFO - Running alignment for 20230731164636230...
[2023-07-31 16:49:57] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-07-31 16:49:57] - INFO - Alignment done.
[2023-07-31 17:19:04] - INFO - ========================= Program Started =========================
[2023-07-31 17:19:04] - INFO - [PID: 3888317] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 17:19:04] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 17:19:20] - INFO - API called: /uploadVideo
[2023-07-31 17:19:20] - INFO - Uploaded video, ID: 20230731171920510
[2023-07-31 17:19:20] - INFO - Converting video 20230731171920510 to mp4...
[2023-07-31 17:19:21] - INFO - Conversion done.
[2023-07-31 17:19:21] - INFO - API called: /callASR
[2023-07-31 17:19:21] - INFO - Extracting audio from 20230731171920510...
[2023-07-31 17:19:21] - INFO - Extraction done.
[2023-07-31 17:19:21] - INFO - Running ASR for 20230731171920510...
[2023-07-31 17:19:26] - INFO - ASR done.
[2023-07-31 17:19:28] - INFO - API called: /uploadTranscript
[2023-07-31 17:19:28] - INFO - Running alignment for 20230731171920510...
[2023-07-31 17:19:30] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 17:19:30] - INFO - Alignment done.
[2023-07-31 17:21:57] - INFO - API called: /videoEditAligned
2023-07-31 17:21:57 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/modified_video.mp4
[2023-07-31 17:21:57] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/modified_video.mp4
[2023-07-31 17:22:25] - INFO - API called: /videoEditAligned
2023-07-31 17:22:25 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/modified_video.mp4
[2023-07-31 17:22:25] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]lowpass=f=500:enable='between(t,1.459,1.8213)'[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731171920510/modified_video.mp4
[2023-07-31 17:22:32] - INFO - Extracting audio from 20230731171920510...
[2023-07-31 17:22:45] - INFO - Extraction done.
[2023-07-31 17:22:47] - INFO - Running ASR for 20230731171920510...
[2023-07-31 17:23:16] - INFO - Running alignment for 20230731171920510...
[2023-07-31 17:23:19] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-07-31 17:23:19] - INFO - Alignment done.
[2023-07-31 17:33:05] - INFO - ========================= Program Started =========================
[2023-07-31 17:33:05] - INFO - [PID: 3893389] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 17:33:05] - INFO - Starting WSGI Server on port 4096...
2023-07-31 17:52:28 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out_a.mp4
2023-07-31 17:53:32 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1,2)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y test/test_out.mp4
2023-07-31 17:54:16 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out_a.mp4
2023-07-31 17:54:48 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y test/test_out_a.mp4
2023-07-31 17:58:12 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i test/test.mp4 -c:v copy -map 0:v " -map "[a-1]" -y test/test_out_a.mp4
[2023-07-31 19:52:04] - INFO - API called: /uploadVideo
[2023-07-31 19:52:04] - INFO - Uploaded video, ID: 20230731195204623
[2023-07-31 19:52:04] - INFO - Converting video 20230731195204623 to mp4...
[2023-07-31 19:52:04] - INFO - Conversion done.
[2023-07-31 19:52:05] - INFO - API called: /callASR
[2023-07-31 19:52:05] - INFO - Extracting audio from 20230731195204623...
[2023-07-31 19:52:05] - INFO - Extraction done.
[2023-07-31 19:52:05] - INFO - Running ASR for 20230731195204623...
[2023-07-31 19:52:09] - INFO - ASR done.
[2023-07-31 19:52:10] - INFO - API called: /uploadTranscript
[2023-07-31 19:52:10] - INFO - Running alignment for 20230731195204623...
[2023-07-31 19:52:12] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 19:52:12] - INFO - Alignment done.
[2023-07-31 19:53:32] - INFO - API called: /videoEditAligned
2023-07-31 19:53:32 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.2516,0.4729)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:53:32] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.2516,0.4729)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:53:32] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x55d673e74b00] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x55d673e74b00] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 19:54:30] - INFO - API called: /videoEditAligned
2023-07-31 19:54:30 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.2516,0.4729)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:54:30] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,0.2516,0.4729)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:54:30] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x5587d1811b00] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x5587d1811b00] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 19:54:48] - INFO - API called: /videoEditAligned
2023-07-31 19:54:48 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:54:48] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]" -map "[a-1]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:54:48] - ERROR - ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x5599b41e4180] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
Traceback (most recent call last):
  File "/home/zhangbaozheng/emotional/Robust-MSA/app.py", line 150, in edit_video_aligned
    real_noise(
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/real_noise.py", line 216, in real_noise
    execute_cmd(cmd)
  File "/home/zhangbaozheng/emotional/Robust-MSA/modal_api/utils/functions.py", line 58, in execute_cmd
    raise RuntimeError("ffmpeg", out, err)
RuntimeError: ('ffmpeg', b'', b"ffmpeg version 4.2.7-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers\n  built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-avresample --disable-filter=resample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librsvg --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-nvenc --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 31.100 / 56. 31.100\n  libavcodec     58. 54.100 / 58. 54.100\n  libavformat    58. 29.100 / 58. 29.100\n  libavdevice    58.  8.100 / 58.  8.100\n  libavfilter     7. 57.100 /  7. 57.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  5.100 /  5.  5.100\n  libswresample   3.  5.100 /  3.  5.100\n  libpostproc    55.  5.100 / 55.  5.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf58.29.100\n  Duration: 00:00:02.43, start: 0.000000, bitrate: 469 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 327 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[AVFilterGraph @ 0x5599b41e4180] No such filter: ''\nError initializing complex filters.\nInvalid argument\n")
[2023-07-31 19:55:28] - INFO - API called: /videoEditAligned
2023-07-31 19:55:28 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,1.8213,2.0426)':volume=5[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:55:28] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,1.8213,2.0426)':volume=5[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4
[2023-07-31 19:55:28] - INFO - Extracting audio from 20230731195204623...
[2023-07-31 19:55:28] - INFO - Extraction done.
[2023-07-31 19:55:28] - INFO - Running ASR for 20230731195204623...
[2023-07-31 19:55:32] - INFO - Running alignment for 20230731195204623...
[2023-07-31 19:55:34] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-07-31 19:55:34] - INFO - Alignment done.
[2023-07-31 19:55:58] - INFO - API called: /runMSAAligned
[2023-07-31 19:55:58] - INFO - 
[2023-07-31 19:55:58] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 19:55:58] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 19:55:58] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 19:55:58] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-31 19:55:59] - INFO - Data-Level Defence for 20230731195204623...
[2023-07-31 19:55:59] - INFO - Extracting features from original video 20230731195204623...
[2023-07-31 19:55:59] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 19:55:59] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 19:55:59] - INFO - Initializing BERT text feature extractor...
[2023-07-31 19:56:00] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-31 19:56:02] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4'.
[2023-07-31 19:56:04] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-07-31 19:56:04] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/feat_original.pkl'.
[2023-07-31 19:56:04] - INFO - Extracting features from modified video 20230731195204623...
[2023-07-31 19:56:04] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4'.
[2023-07-31 19:56:06] - INFO - CTC segmentation of 51 chars to 2.41s audio (120 indices).
[2023-07-31 19:56:06] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/feat_modified.pkl'.
[2023-07-31 19:56:06] - INFO - Feature-Level Defence for 20230731195204623...
[2023-07-31 19:56:06] - INFO - Running MSA models for 20230731195204623...
[2023-07-31 19:56:06] - INFO - 
[2023-07-31 19:56:06] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 19:56:06] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 19:56:06] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 19:56:06] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-31 19:56:06] - INFO - 
[2023-07-31 19:56:06] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 19:56:06] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 19:56:06] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 19:56:06] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-31 19:56:06] - INFO - 
[2023-07-31 19:56:06] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 19:56:06] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 19:56:06] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 19:56:06] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-31 19:56:06] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 19:56:06] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4'.
[2023-07-31 19:56:06] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 19:56:06] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/raw_video.mp4'.
[2023-07-31 19:56:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4'.
[2023-07-31 19:56:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731195204623/modified_video.mp4'.
[2023-07-31 20:00:45] - INFO - API called: /uploadVideo
[2023-07-31 20:00:46] - INFO - Uploaded video, ID: 20230731200046042
[2023-07-31 20:00:46] - INFO - Converting video 20230731200046042 to mp4...
[2023-07-31 20:00:46] - INFO - Conversion done.
[2023-07-31 20:00:46] - INFO - API called: /callASR
[2023-07-31 20:00:46] - INFO - Extracting audio from 20230731200046042...
[2023-07-31 20:00:46] - INFO - Extraction done.
[2023-07-31 20:00:46] - INFO - Running ASR for 20230731200046042...
[2023-07-31 20:00:49] - INFO - ASR done.
[2023-07-31 20:00:52] - INFO - API called: /uploadTranscript
[2023-07-31 20:00:52] - INFO - Running alignment for 20230731200046042...
[2023-07-31 20:00:54] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 20:00:54] - INFO - Alignment done.
[2023-07-31 20:01:01] - INFO - API called: /videoEditAligned
[2023-07-31 20:05:37] - INFO - Stopping Media Server...
[2023-07-31 20:05:37] - INFO - Stopping WSGI Server...
[2023-07-31 20:05:37] - INFO - WSGI Server stopped.
[2023-07-31 20:05:37] - INFO - Media Server stopped.
[2023-07-31 20:05:37] - INFO - ========================= Program Stopped =========================
[2023-07-31 20:05:41] - INFO - ========================= Program Started =========================
[2023-07-31 20:05:41] - INFO - [PID: 3919874] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 20:05:41] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 20:05:55] - INFO - API called: /uploadVideo
[2023-07-31 20:05:55] - INFO - Uploaded video, ID: 20230731200555296
[2023-07-31 20:05:55] - INFO - Converting video 20230731200555296 to mp4...
[2023-07-31 20:05:55] - INFO - Conversion done.
[2023-07-31 20:05:55] - INFO - API called: /callASR
[2023-07-31 20:05:55] - INFO - Extracting audio from 20230731200555296...
[2023-07-31 20:05:56] - INFO - Extraction done.
[2023-07-31 20:05:56] - INFO - Running ASR for 20230731200555296...
[2023-07-31 20:06:00] - INFO - ASR done.
[2023-07-31 20:06:03] - INFO - API called: /uploadTranscript
[2023-07-31 20:06:03] - INFO - Running alignment for 20230731200555296...
[2023-07-31 20:06:05] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 20:06:05] - INFO - Alignment done.
[2023-07-31 20:06:11] - INFO - API called: /videoEditAligned
[2023-07-31 20:06:19] - INFO - API called: /runMSAAligned
[2023-07-31 20:06:19] - INFO - 
[2023-07-31 20:06:19] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:06:19] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:06:19] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:06:19] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-31 20:06:19] - INFO - Data-Level Defence for 20230731200555296...
[2023-07-31 20:06:19] - INFO - Extracting features from original video 20230731200555296...
[2023-07-31 20:06:19] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 20:06:19] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 20:06:19] - INFO - Initializing BERT text feature extractor...
[2023-07-31 20:06:20] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-31 20:06:21] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/raw_video.mp4'.
[2023-07-31 20:06:23] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 20:06:23] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/feat_original.pkl'.
[2023-07-31 20:06:23] - INFO - Extracting features from modified video 20230731200555296...
[2023-07-31 20:06:23] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/modified_video.mp4'.
[2023-07-31 20:06:25] - INFO - CTC segmentation of 52 chars to 2.41s audio (120 indices).
[2023-07-31 20:06:25] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/feat_modified.pkl'.
[2023-07-31 20:06:25] - INFO - Feature-Level Defence for 20230731200555296...
[2023-07-31 20:06:25] - INFO - Running MSA models for 20230731200555296...
[2023-07-31 20:06:25] - INFO - 
[2023-07-31 20:06:25] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:06:25] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:06:25] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:06:25] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-31 20:06:25] - INFO - 
[2023-07-31 20:06:25] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:06:25] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:06:25] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:06:25] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-31 20:06:25] - INFO - 
[2023-07-31 20:06:25] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:06:25] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:06:25] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:06:25] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-31 20:06:25] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 20:06:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/raw_video.mp4'.
[2023-07-31 20:06:26] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 20:06:26] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/raw_video.mp4'.
[2023-07-31 20:06:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/modified_video.mp4'.
[2023-07-31 20:06:27] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/modified_video.mp4'.
[2023-07-31 20:06:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/defended_video.mp4'.
[2023-07-31 20:06:28] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200555296/defended_video.mp4'.
[2023-07-31 20:07:26] - INFO - API called: /uploadVideo
[2023-07-31 20:07:26] - INFO - Uploaded video, ID: 20230731200726987
[2023-07-31 20:07:26] - INFO - Converting video 20230731200726987 to mp4...
[2023-07-31 20:07:26] - INFO - Conversion done.
[2023-07-31 20:07:26] - INFO - API called: /callASR
[2023-07-31 20:07:26] - INFO - Extracting audio from 20230731200726987...
[2023-07-31 20:07:27] - INFO - Extraction done.
[2023-07-31 20:07:27] - INFO - Running ASR for 20230731200726987...
[2023-07-31 20:07:30] - INFO - ASR done.
[2023-07-31 20:07:32] - INFO - API called: /uploadTranscript
[2023-07-31 20:07:32] - INFO - Running alignment for 20230731200726987...
[2023-07-31 20:07:34] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 20:07:34] - INFO - Alignment done.
[2023-07-31 20:07:41] - INFO - API called: /videoEditAligned
[2023-07-31 20:07:52] - INFO - API called: /runMSAAligned
[2023-07-31 20:07:52] - INFO - 
[2023-07-31 20:07:52] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:07:52] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:07:52] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:07:52] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-07-31 20:07:52] - INFO - Data-Level Defence for 20230731200726987...
[2023-07-31 20:07:52] - INFO - Audio Denoising...
[2023-07-31 20:07:53] - INFO - Video MCI...
[2023-07-31 20:07:55] - INFO - Extracting features from original video 20230731200726987...
[2023-07-31 20:07:55] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 20:07:55] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 20:07:55] - INFO - Initializing BERT text feature extractor...
[2023-07-31 20:07:56] - INFO - Initializing Wav2vec2 Aligner...
[2023-07-31 20:07:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/raw_video.mp4'.
[2023-07-31 20:08:00] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 20:08:00] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/feat_original.pkl'.
[2023-07-31 20:08:00] - INFO - Extracting features from modified video 20230731200726987...
[2023-07-31 20:08:00] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/modified_video.mp4'.
[2023-07-31 20:08:02] - INFO - CTC segmentation of 52 chars to 2.41s audio (120 indices).
[2023-07-31 20:08:02] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/feat_modified.pkl'.
[2023-07-31 20:08:02] - INFO - Extracting features from defended video 20230731200726987...
[2023-07-31 20:08:02] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/defended_video.mp4'.
[2023-07-31 20:08:04] - INFO - CTC segmentation of 52 chars to 2.39s audio (119 indices).
[2023-07-31 20:08:04] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/feat_defended.pkl'.
[2023-07-31 20:08:04] - INFO - Feature-Level Defence for 20230731200726987...
[2023-07-31 20:08:04] - INFO - Running MSA models for 20230731200726987...
[2023-07-31 20:08:04] - INFO - 
[2023-07-31 20:08:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:08:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:08:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:08:04] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-07-31 20:08:04] - INFO - 
[2023-07-31 20:08:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:08:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:08:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:08:04] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-07-31 20:08:04] - INFO - 
[2023-07-31 20:08:04] - INFO - ========================== MMSA-FET Started ==========================
[2023-07-31 20:08:04] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-07-31 20:08:04] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-07-31 20:08:04] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-07-31 20:08:04] - INFO - Initializing openSMILE audio feature extractor...
[2023-07-31 20:08:04] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/raw_video.mp4'.
[2023-07-31 20:08:04] - INFO - Initializing OpenFace video feature extractor...
[2023-07-31 20:08:04] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/raw_video.mp4'.
[2023-07-31 20:08:05] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/modified_video.mp4'.
[2023-07-31 20:08:05] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/modified_video.mp4'.
[2023-07-31 20:08:06] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/defended_video.mp4'.
[2023-07-31 20:08:07] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230731200726987/defended_video.mp4'.
[2023-07-31 22:04:08] - INFO - Stopping Media Server...
[2023-07-31 22:04:08] - INFO - Stopping WSGI Server...
[2023-07-31 22:04:08] - INFO - WSGI Server stopped.
[2023-07-31 22:04:08] - INFO - Media Server stopped.
[2023-07-31 22:04:08] - INFO - ========================= Program Stopped =========================
[2023-07-31 22:05:22] - INFO - ========================= Program Started =========================
[2023-07-31 22:05:22] - INFO - [PID: 3947644] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-07-31 22:05:22] - INFO - Starting WSGI Server on port 4096...
[2023-07-31 23:02:36] - INFO - API called: /uploadVideo
[2023-07-31 23:02:37] - INFO - Uploaded video, ID: 20230731230237535
[2023-07-31 23:02:37] - INFO - Converting video 20230731230237535 to mp4...
[2023-07-31 23:02:37] - INFO - Conversion done.
[2023-07-31 23:02:37] - INFO - API called: /callASR
[2023-07-31 23:02:37] - INFO - Extracting audio from 20230731230237535...
[2023-07-31 23:02:37] - INFO - Extraction done.
[2023-07-31 23:02:37] - INFO - Running ASR for 20230731230237535...
[2023-07-31 23:02:42] - INFO - ASR done.
[2023-07-31 23:03:18] - INFO - API called: /uploadVideo
[2023-07-31 23:03:18] - INFO - Uploaded video, ID: 20230731230318015
[2023-07-31 23:03:18] - INFO - Converting video 20230731230318015 to mp4...
[2023-07-31 23:03:18] - INFO - Conversion done.
[2023-07-31 23:03:18] - INFO - API called: /callASR
[2023-07-31 23:03:18] - INFO - Extracting audio from 20230731230318015...
[2023-07-31 23:03:18] - INFO - Extraction done.
[2023-07-31 23:03:18] - INFO - Running ASR for 20230731230318015...
[2023-07-31 23:03:21] - INFO - ASR done.
[2023-07-31 23:03:25] - INFO - API called: /uploadTranscript
[2023-07-31 23:03:25] - INFO - Running alignment for 20230731230318015...
[2023-07-31 23:03:27] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-07-31 23:03:27] - INFO - Alignment done.
[2023-08-01 11:20:57] - INFO - Stopping Media Server...
[2023-08-01 11:20:57] - INFO - Media Server stopped.
[2023-08-01 11:20:57] - INFO - Stopping WSGI Server...
[2023-08-01 11:20:57] - INFO - WSGI Server stopped.
[2023-08-01 11:20:57] - INFO - ========================= Program Stopped =========================
[2023-08-01 11:21:03] - INFO - ========================= Program Started =========================
[2023-08-01 11:21:03] - INFO - [PID: 4068893] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-08-01 11:21:03] - INFO - Starting WSGI Server on port 4096...
[2023-08-01 11:21:28] - INFO - API called: /uploadVideo
[2023-08-01 11:21:28] - INFO - Uploaded video, ID: 20230801112128224
[2023-08-01 11:21:28] - INFO - Converting video 20230801112128224 to mp4...
[2023-08-01 11:21:28] - INFO - Conversion done.
[2023-08-01 11:21:28] - INFO - API called: /callASR
[2023-08-01 11:21:28] - INFO - Extracting audio from 20230801112128224...
[2023-08-01 11:21:29] - INFO - Extraction done.
[2023-08-01 11:21:29] - INFO - Running ASR for 20230801112128224...
[2023-08-01 11:21:34] - INFO - ASR done.
[2023-08-01 11:21:36] - INFO - API called: /uploadTranscript
[2023-08-01 11:21:36] - INFO - Running alignment for 20230801112128224...
[2023-08-01 11:21:39] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-01 11:21:39] - INFO - Alignment done.
[2023-08-01 11:22:00] - INFO - Stopping Media Server...
[2023-08-01 11:22:00] - INFO - Stopping WSGI Server...
[2023-08-01 11:22:00] - INFO - WSGI Server stopped.
[2023-08-01 11:22:00] - INFO - Media Server stopped.
[2023-08-01 11:22:00] - INFO - ========================= Program Stopped =========================
[2023-08-01 11:22:10] - INFO - ========================= Program Started =========================
[2023-08-01 11:22:10] - INFO - [PID: 4069404] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-08-01 11:22:10] - INFO - Starting WSGI Server on port 4096...
[2023-08-01 14:57:42] - INFO - API called: /uploadVideo
[2023-08-01 14:57:42] - INFO - Uploaded video, ID: 20230801145742701
[2023-08-01 14:57:42] - INFO - Converting video 20230801145742701 to mp4...
[2023-08-01 14:57:43] - INFO - Conversion done.
[2023-08-01 14:57:43] - INFO - API called: /callASR
[2023-08-01 14:57:43] - INFO - Extracting audio from 20230801145742701...
[2023-08-01 14:57:43] - INFO - Extraction done.
[2023-08-01 14:57:43] - INFO - Running ASR for 20230801145742701...
[2023-08-01 14:57:48] - INFO - ASR done.
[2023-08-01 14:57:54] - INFO - API called: /uploadTranscript
[2023-08-01 14:57:54] - INFO - Running alignment for 20230801145742701...
[2023-08-01 14:57:57] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-01 14:57:57] - INFO - Alignment done.
[2023-08-01 14:58:18] - INFO - API called: /videoEditAligned
[2023-08-01 14:58:18] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,1.1974,1.459)':volume=0[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/modified_video.mp4
[2023-08-01 14:58:19] - INFO - Extracting audio from 20230801145742701...
[2023-08-01 14:58:19] - INFO - Extraction done.
[2023-08-01 14:58:19] - INFO - Running ASR for 20230801145742701...
[2023-08-01 14:58:22] - INFO - Running alignment for 20230801145742701...
[2023-08-01 14:58:24] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-01 14:58:24] - INFO - Alignment done.
[2023-08-01 14:58:44] - INFO - API called: /runMSAAligned
[2023-08-01 14:58:44] - INFO - 
[2023-08-01 14:58:44] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-01 14:58:44] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-01 14:58:44] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-01 14:58:44] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-01 14:58:44] - INFO - Data-Level Defence for 20230801145742701...
[2023-08-01 14:58:44] - INFO - Audio Denoising...
[2023-08-01 14:58:45] - INFO - Extracting features from original video 20230801145742701...
[2023-08-01 14:58:45] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-01 14:58:45] - INFO - Initializing OpenFace video feature extractor...
[2023-08-01 14:58:45] - INFO - Initializing BERT text feature extractor...
[2023-08-01 14:58:46] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-01 14:58:48] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/raw_video.mp4'.
[2023-08-01 14:58:52] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-01 14:58:52] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/feat_original.pkl'.
[2023-08-01 14:58:52] - INFO - Extracting features from modified video 20230801145742701...
[2023-08-01 14:58:52] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/modified_video.mp4'.
[2023-08-01 14:58:55] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-01 14:58:55] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/feat_modified.pkl'.
[2023-08-01 14:58:55] - INFO - Extracting features from defended video 20230801145742701...
[2023-08-01 14:58:55] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/defended_video.mp4'.
[2023-08-01 14:58:58] - INFO - CTC segmentation of 44 chars to 2.39s audio (119 indices).
[2023-08-01 14:58:58] - INFO - Feature file saved: '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/feat_defended.pkl'.
[2023-08-01 14:58:58] - INFO - Feature-Level Defence for 20230801145742701...
[2023-08-01 14:58:58] - INFO - Running MSA models for 20230801145742701...
[2023-08-01 14:58:58] - INFO - 
[2023-08-01 14:58:58] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-01 14:58:58] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-01 14:58:58] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-01 14:58:58] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda:0', 'pretrained': 'bert-base-uncased', 'args': {}}}
[2023-08-01 14:58:58] - INFO - 
[2023-08-01 14:58:58] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-01 14:58:58] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-01 14:58:58] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-01 14:58:58] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-01 14:58:58] - INFO - 
[2023-08-01 14:58:58] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-01 14:58:58] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-01 14:58:58] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-01 14:58:58] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-01 14:58:58] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-01 14:58:58] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/raw_video.mp4'.
[2023-08-01 14:58:59] - INFO - Initializing OpenFace video feature extractor...
[2023-08-01 14:58:59] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/raw_video.mp4'.
[2023-08-01 14:59:00] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/modified_video.mp4'.
[2023-08-01 14:59:00] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/modified_video.mp4'.
[2023-08-01 14:59:02] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/defended_video.mp4'.
[2023-08-01 14:59:02] - INFO - Extracting features from '/home/zhangbaozheng/emotional/Robust-MSA/media/20230801145742701/defended_video.mp4'.
[2023-08-01 15:05:02] - INFO - Stopping Media Server...
[2023-08-01 15:05:02] - INFO - Stopping WSGI Server...
[2023-08-01 15:05:02] - INFO - Media Server stopped.
[2023-08-01 15:05:02] - INFO - WSGI Server stopped.
[2023-08-01 15:05:02] - INFO - ========================= Program Stopped =========================
[2023-08-01 15:05:13] - INFO - ========================= Program Started =========================
[2023-08-01 15:05:13] - INFO - [PID: 4114162] Media server started at /home/zhangbaozheng/emotional/Robust-MSA/media:8192
[2023-08-01 15:05:13] - INFO - Starting WSGI Server on port 4096...
[2023-08-01 15:05:26] - INFO - API called: /uploadVideo
[2023-08-01 15:05:27] - INFO - Uploaded video, ID: 20230801150527868
[2023-08-01 15:05:27] - INFO - Converting video 20230801150527868 to mp4...
[2023-08-01 15:05:27] - INFO - Conversion done.
[2023-08-01 15:05:27] - INFO - API called: /callASR
[2023-08-01 15:05:27] - INFO - Extracting audio from 20230801150527868...
[2023-08-01 15:05:27] - INFO - Extraction done.
[2023-08-01 15:05:27] - INFO - Running ASR for 20230801150527868...
[2023-08-01 15:05:33] - INFO - ASR done.
[2023-08-01 15:05:35] - INFO - API called: /uploadTranscript
[2023-08-01 15:05:35] - INFO - Running alignment for 20230801150527868...
[2023-08-01 15:05:38] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-01 15:05:38] - INFO - Alignment done.
[2023-08-01 15:06:32] - INFO - API called: /videoEditAligned
[2023-08-01 15:06:33] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230801150527868/raw_video.mp4 -filter_complex "[0:v]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,1.459,1.8213)'[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,1.1974,1.459)':volume=0[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230801150527868/modified_video.mp4
[2023-08-01 15:06:33] - INFO - Extracting audio from 20230801150527868...
[2023-08-01 15:06:33] - INFO - Extraction done.
[2023-08-01 15:06:33] - INFO - Running ASR for 20230801150527868...
[2023-08-01 15:06:37] - INFO - Running alignment for 20230801150527868...
[2023-08-01 15:06:40] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-01 15:06:40] - INFO - Alignment done.
[2023-08-01 15:06:40] - ERROR - list index out of range
Traceback (most recent call last):
  File "/home/sharing/disk1/zhangbaozheng/code/Robust-MSA/app.py", line 194, in edit_video_aligned
    aligned_results[word_id]['text'] = 'REMOVED'  # [UNK]
IndexError: list index out of range
[2023-08-01 15:07:06] - INFO - API called: /videoEditAligned
[2023-08-01 15:07:16] - DEBUG - /usr/bin/ffmpeg -i /home/zhangbaozheng/emotional/Robust-MSA/media/20230801150527868/raw_video.mp4 -filter_complex "[0:v]colorchannelmixer=rr=0:rb=1:br=1:bb=0:enable='between(t,1.459,1.8213)'[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,1.1974,1.459)':volume=0[a0]" -map "[a0]" -y /home/zhangbaozheng/emotional/Robust-MSA/media/20230801150527868/modified_video.mp4
[2023-08-01 15:07:36] - INFO - Extracting audio from 20230801150527868...
[2023-08-01 15:07:38] - INFO - Extraction done.
[2023-08-01 15:07:39] - INFO - Running ASR for 20230801150527868...
[2023-08-01 15:07:49] - INFO - Running alignment for 20230801150527868...
[2023-08-01 15:07:54] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-01 15:07:54] - INFO - Alignment done.
