[2023-08-05 11:33:44] - INFO - API called: /uploadVideo
[2023-08-05 11:33:44] - INFO - Uploaded video, ID: 20230805113344329
[2023-08-05 11:33:44] - INFO - Converting video 20230805113344329 to mp4...
[2023-08-05 11:33:45] - INFO - Conversion done.
[2023-08-05 11:33:45] - INFO - API called: /callASR
[2023-08-05 11:33:45] - INFO - Extracting audio from 20230805113344329...
[2023-08-05 11:33:45] - INFO - Extraction done.
[2023-08-05 11:33:45] - INFO - Running ASR for 20230805113344329...
[2023-08-05 11:33:51] - INFO - ASR done.
[2023-08-05 11:33:52] - INFO - API called: /uploadTranscript
[2023-08-05 11:33:52] - INFO - Running alignment for 20230805113344329...
[2023-08-05 11:33:57] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-05 11:33:57] - INFO - Alignment done.
[2023-08-05 11:34:20] - INFO - API called: /uploadVideo
[2023-08-05 11:34:20] - INFO - Uploaded video, ID: 20230805113420702
[2023-08-05 11:34:20] - INFO - Converting video 20230805113420702 to mp4...
[2023-08-05 11:34:21] - INFO - Conversion done.
[2023-08-05 11:34:21] - INFO - API called: /callASR
[2023-08-05 11:34:21] - INFO - Extracting audio from 20230805113420702...
[2023-08-05 11:34:22] - INFO - Extraction done.
[2023-08-05 11:34:22] - INFO - Running ASR for 20230805113420702...
[2023-08-05 11:34:27] - INFO - ASR done.
[2023-08-05 11:34:30] - INFO - API called: /uploadTranscript
[2023-08-05 11:34:30] - INFO - Running alignment for 20230805113420702...
[2023-08-05 11:34:35] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-05 11:34:35] - INFO - Alignment done.
[2023-08-05 11:34:42] - INFO - API called: /videoEditAligned
2023-08-05 11:34:43 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805113420702/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.1974,1.459)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,1.459,1.8213)':volume=0[a0]" -map "[a0]" -y media/20230805113420702/modified_video.mp4
[2023-08-05 11:34:43] - DEBUG - /usr/bin/ffmpeg -i media/20230805113420702/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.1974,1.459)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,1.459,1.8213)':volume=0[a0]" -map "[a0]" -y media/20230805113420702/modified_video.mp4
[2023-08-05 11:34:56] - INFO - API called: /runMSAAligned
[2023-08-05 11:34:56] - INFO - 
[2023-08-05 11:34:56] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 11:34:56] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 11:34:56] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 11:34:56] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 11:34:56] - INFO - Data-Level Defence for 20230805113420702...
[2023-08-05 11:34:56] - INFO - Audio Denoising...
[2023-08-05 11:34:56] - INFO - Video MCI...
[2023-08-05 11:35:05] - INFO - Extracting features from original video 20230805113420702...
[2023-08-05 11:35:05] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 11:35:06] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 11:35:06] - INFO - Initializing BERT text feature extractor...
[2023-08-05 11:35:08] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 11:35:13] - INFO - Extracting features from 'media/20230805113420702/raw_video.mp4'.
[2023-08-05 11:35:18] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-05 11:35:18] - INFO - Feature file saved: 'media/20230805113420702/feat_original.pkl'.
[2023-08-05 11:35:18] - INFO - Extracting features from modified video 20230805113420702...
[2023-08-05 11:35:18] - INFO - Extracting features from 'media/20230805113420702/modified_video.mp4'.
[2023-08-05 11:35:23] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-05 11:35:23] - INFO - Feature file saved: 'media/20230805113420702/feat_modified.pkl'.
[2023-08-05 11:35:23] - INFO - Extracting features from defended video 20230805113420702...
[2023-08-05 11:35:23] - INFO - Extracting features from 'media/20230805113420702/defended_video.mp4'.
[2023-08-05 11:35:28] - INFO - CTC segmentation of 48 chars to 2.39s audio (119 indices).
[2023-08-05 11:35:28] - INFO - Feature file saved: 'media/20230805113420702/feat_defended.pkl'.
[2023-08-05 11:35:28] - INFO - Feature-Level Defence for 20230805113420702...
[2023-08-05 11:35:28] - INFO - Running MSA models for 20230805113420702...
[2023-08-05 11:35:28] - INFO - 
[2023-08-05 11:35:28] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 11:35:28] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 11:35:28] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 11:35:28] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 11:35:28] - INFO - 
[2023-08-05 11:35:28] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 11:35:28] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 11:35:28] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 11:35:28] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 11:35:28] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 11:35:28] - INFO - Extracting features from 'media/20230805113420702/raw_video.mp4'.
[2023-08-05 11:35:29] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 11:35:29] - INFO - Extracting features from 'media/20230805113420702/raw_video.mp4'.
[2023-08-05 11:35:31] - INFO - Extracting features from 'media/20230805113420702/modified_video.mp4'.
[2023-08-05 11:35:32] - INFO - Extracting features from 'media/20230805113420702/modified_video.mp4'.
[2023-08-05 11:35:34] - INFO - Extracting features from 'media/20230805113420702/defended_video.mp4'.
[2023-08-05 11:35:34] - INFO - Extracting features from 'media/20230805113420702/defended_video.mp4'.
[2023-08-05 13:20:44] - INFO - Stopping Media Server...
[2023-08-05 13:20:44] - INFO - Stopping WSGI Server...
[2023-08-05 13:20:44] - INFO - Media Server stopped.
[2023-08-05 13:20:44] - INFO - WSGI Server stopped.
[2023-08-05 13:20:44] - INFO - ========================= Program Stopped =========================
[2023-08-05 13:21:09] - INFO - ========================= Program Started =========================
[2023-08-05 13:21:09] - INFO - [PID: 153609] Media server started at media:8192
[2023-08-05 13:21:09] - INFO - Starting WSGI Server on port 4096...
[2023-08-05 13:22:30] - INFO - API called: /uploadVideo
[2023-08-05 13:22:30] - INFO - Uploaded video, ID: 20230805132230298
[2023-08-05 13:22:30] - INFO - Converting video 20230805132230298 to mp4...
[2023-08-05 13:22:31] - INFO - Conversion done.
[2023-08-05 13:22:31] - INFO - API called: /callASR
[2023-08-05 13:22:31] - INFO - Extracting audio from 20230805132230298...
[2023-08-05 13:22:31] - INFO - Extraction done.
[2023-08-05 13:22:31] - INFO - Running ASR for 20230805132230298...
[2023-08-05 13:22:39] - INFO - ASR done.
[2023-08-05 13:22:42] - INFO - API called: /uploadTranscript
[2023-08-05 13:22:42] - INFO - Running alignment for 20230805132230298...
[2023-08-05 13:22:47] - INFO - CTC segmentation of 48 chars to 2.41s audio (120 indices).
[2023-08-05 13:22:47] - INFO - Alignment done.
[2023-08-05 13:22:56] - INFO - API called: /videoEditAligned
2023-08-05 13:22:57 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805132230298/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,1.1974,1.459)':volume=0[a0]" -map "[a0]" -y media/20230805132230298/modified_video.mp4
[2023-08-05 13:22:57] - DEBUG - /usr/bin/ffmpeg -i media/20230805132230298/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,1.1974,1.459)':volume=0[a0]" -map "[a0]" -y media/20230805132230298/modified_video.mp4
[2023-08-05 13:22:58] - INFO - Extracting audio from 20230805132230298...
[2023-08-05 13:22:59] - INFO - Extraction done.
[2023-08-05 13:22:59] - INFO - Running ASR for 20230805132230298...
[2023-08-05 13:23:04] - INFO - Running alignment for 20230805132230298...
[2023-08-05 13:23:09] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-05 13:23:09] - INFO - Alignment done.
[2023-08-05 13:23:13] - INFO - API called: /runMSAAligned
[2023-08-05 13:23:13] - INFO - 
[2023-08-05 13:23:13] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 13:23:13] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 13:23:13] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 13:23:13] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 13:23:13] - INFO - Data-Level Defence for 20230805132230298...
[2023-08-05 13:23:13] - INFO - Audio Denoising...
[2023-08-05 13:23:13] - INFO - Video MCI...
[2023-08-05 13:23:22] - INFO - Extracting features from original video 20230805132230298...
[2023-08-05 13:23:22] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 13:23:22] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 13:23:22] - INFO - Initializing BERT text feature extractor...
[2023-08-05 13:23:24] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 13:23:30] - INFO - Extracting features from 'media/20230805132230298/raw_video.mp4'.
[2023-08-05 13:23:35] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-05 13:23:35] - INFO - Feature file saved: 'media/20230805132230298/feat_original.pkl'.
[2023-08-05 13:23:35] - INFO - Extracting features from modified video 20230805132230298...
[2023-08-05 13:23:35] - INFO - Extracting features from 'media/20230805132230298/modified_video.mp4'.
[2023-08-05 13:23:41] - INFO - CTC segmentation of 44 chars to 2.41s audio (120 indices).
[2023-08-05 13:23:41] - INFO - Feature file saved: 'media/20230805132230298/feat_modified.pkl'.
[2023-08-05 13:23:41] - INFO - Extracting features from defended video 20230805132230298...
[2023-08-05 13:23:41] - INFO - Extracting features from 'media/20230805132230298/defended_video.mp4'.
[2023-08-05 13:23:46] - INFO - CTC segmentation of 44 chars to 2.39s audio (119 indices).
[2023-08-05 13:23:46] - INFO - Feature file saved: 'media/20230805132230298/feat_defended.pkl'.
[2023-08-05 13:23:46] - INFO - Feature-Level Defence for 20230805132230298...
[2023-08-05 13:23:46] - INFO - Running MSA models for 20230805132230298...
[2023-08-05 13:23:46] - INFO - 
[2023-08-05 13:23:46] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 13:23:46] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 13:23:46] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 13:23:46] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 13:23:46] - INFO - 
[2023-08-05 13:23:46] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 13:23:46] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 13:23:46] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 13:23:46] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 13:23:46] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 13:23:46] - INFO - Extracting features from 'media/20230805132230298/raw_video.mp4'.
[2023-08-05 13:23:47] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 13:23:47] - INFO - Extracting features from 'media/20230805132230298/raw_video.mp4'.
[2023-08-05 13:23:49] - INFO - Extracting features from 'media/20230805132230298/modified_video.mp4'.
[2023-08-05 13:23:50] - INFO - Extracting features from 'media/20230805132230298/modified_video.mp4'.
[2023-08-05 13:23:52] - INFO - Extracting features from 'media/20230805132230298/defended_video.mp4'.
[2023-08-05 13:23:53] - INFO - Extracting features from 'media/20230805132230298/defended_video.mp4'.
[2023-08-05 13:29:21] - INFO - API called: /uploadVideo
[2023-08-05 13:29:21] - INFO - Uploaded video, ID: 20230805132921424
[2023-08-05 13:29:21] - INFO - Converting video 20230805132921424 to mp4...
[2023-08-05 13:29:22] - INFO - Conversion done.
[2023-08-05 13:29:22] - INFO - API called: /callASR
[2023-08-05 13:29:22] - INFO - Extracting audio from 20230805132921424...
[2023-08-05 13:29:23] - INFO - Extraction done.
[2023-08-05 13:29:23] - INFO - Running ASR for 20230805132921424...
[2023-08-05 13:29:29] - INFO - ASR done.
[2023-08-05 13:29:39] - INFO - API called: /uploadTranscript
[2023-08-05 13:29:39] - INFO - Running alignment for 20230805132921424...
[2023-08-05 13:29:43] - INFO - CTC segmentation of 39 chars to 2.44s audio (121 indices).
[2023-08-05 13:29:43] - INFO - Alignment done.
[2023-08-05 13:30:14] - INFO - API called: /videoEditAligned
2023-08-05 13:30:16 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805132921424/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.0982,1.6422)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,0.675,1.0982)':volume=0[a0]" -map "[a0]" -y media/20230805132921424/modified_video.mp4
[2023-08-05 13:30:16] - DEBUG - /usr/bin/ffmpeg -i media/20230805132921424/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.0982,1.6422)':color=black:t=fill[v0]" -map "[v0]" -filter_complex "[0:a]volume=enable='between(t,0.675,1.0982)':volume=0[a0]" -map "[a0]" -y media/20230805132921424/modified_video.mp4
[2023-08-05 13:30:16] - INFO - Extracting audio from 20230805132921424...
[2023-08-05 13:30:17] - INFO - Extraction done.
[2023-08-05 13:30:17] - INFO - Running ASR for 20230805132921424...
[2023-08-05 13:30:23] - INFO - Running alignment for 20230805132921424...
[2023-08-05 13:30:28] - INFO - CTC segmentation of 36 chars to 2.44s audio (121 indices).
[2023-08-05 13:30:28] - INFO - Alignment done.
[2023-08-05 13:30:38] - INFO - API called: /runMSAAligned
[2023-08-05 13:30:38] - INFO - 
[2023-08-05 13:30:38] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 13:30:38] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 13:30:38] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 13:30:38] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 13:30:38] - INFO - Data-Level Defence for 20230805132921424...
[2023-08-05 13:30:38] - INFO - Audio Denoising...
[2023-08-05 13:30:39] - INFO - Video MCI...
[2023-08-05 13:30:51] - INFO - Extracting features from original video 20230805132921424...
[2023-08-05 13:30:51] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 13:30:51] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 13:30:51] - INFO - Initializing BERT text feature extractor...
[2023-08-05 13:30:53] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 13:30:58] - INFO - Extracting features from 'media/20230805132921424/raw_video.mp4'.
[2023-08-05 13:31:03] - INFO - CTC segmentation of 36 chars to 2.44s audio (121 indices).
[2023-08-05 13:31:04] - INFO - Feature file saved: 'media/20230805132921424/feat_original.pkl'.
[2023-08-05 13:31:04] - INFO - Extracting features from modified video 20230805132921424...
[2023-08-05 13:31:04] - INFO - Extracting features from 'media/20230805132921424/modified_video.mp4'.
[2023-08-05 13:31:09] - INFO - CTC segmentation of 36 chars to 2.44s audio (121 indices).
[2023-08-05 13:31:09] - INFO - Feature file saved: 'media/20230805132921424/feat_modified.pkl'.
[2023-08-05 13:31:09] - INFO - Extracting features from defended video 20230805132921424...
[2023-08-05 13:31:09] - INFO - Extracting features from 'media/20230805132921424/defended_video.mp4'.
[2023-08-05 13:31:14] - INFO - CTC segmentation of 36 chars to 2.41s audio (120 indices).
[2023-08-05 13:31:14] - INFO - Feature file saved: 'media/20230805132921424/feat_defended.pkl'.
[2023-08-05 13:31:14] - INFO - Feature-Level Defence for 20230805132921424...
[2023-08-05 13:31:14] - INFO - Running MSA models for 20230805132921424...
[2023-08-05 13:31:14] - INFO - 
[2023-08-05 13:31:14] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 13:31:14] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 13:31:14] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 13:31:14] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 13:31:14] - INFO - 
[2023-08-05 13:31:14] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 13:31:14] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 13:31:14] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 13:31:14] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 13:31:14] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 13:31:14] - INFO - Extracting features from 'media/20230805132921424/raw_video.mp4'.
[2023-08-05 13:31:14] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 13:31:14] - INFO - Extracting features from 'media/20230805132921424/raw_video.mp4'.
[2023-08-05 13:31:17] - INFO - Extracting features from 'media/20230805132921424/modified_video.mp4'.
[2023-08-05 13:31:17] - INFO - Extracting features from 'media/20230805132921424/modified_video.mp4'.
[2023-08-05 13:31:20] - INFO - Extracting features from 'media/20230805132921424/defended_video.mp4'.
[2023-08-05 13:31:21] - INFO - Extracting features from 'media/20230805132921424/defended_video.mp4'.
[2023-08-05 17:44:17] - INFO - API called: /uploadVideo
[2023-08-05 17:44:17] - INFO - Uploaded video, ID: 20230805174417586
[2023-08-05 17:44:17] - INFO - Converting video 20230805174417586 to mp4...
[2023-08-05 17:44:18] - INFO - Conversion done.
[2023-08-05 17:44:18] - INFO - API called: /callASR
[2023-08-05 17:44:18] - INFO - Extracting audio from 20230805174417586...
[2023-08-05 17:44:18] - INFO - Extraction done.
[2023-08-05 17:44:18] - INFO - Running ASR for 20230805174417586...
[2023-08-05 17:44:28] - INFO - ASR done.
[2023-08-05 17:44:33] - INFO - API called: /uploadTranscript
[2023-08-05 17:44:33] - INFO - Running alignment for 20230805174417586...
[2023-08-05 17:44:39] - INFO - CTC segmentation of 29 chars to 1.32s audio (65 indices).
[2023-08-05 17:44:39] - INFO - Alignment done.
[2023-08-05 17:46:12] - INFO - API called: /videoEditAligned
2023-08-05 17:46:14 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805174417586/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.3229,0.078)':volume=0[a0]" -map "[a0]" -y media/20230805174417586/modified_video.mp4
[2023-08-05 17:46:14] - DEBUG - /usr/bin/ffmpeg -i media/20230805174417586/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.3229,0.078)':volume=0[a0]" -map "[a0]" -y media/20230805174417586/modified_video.mp4
[2023-08-05 17:46:48] - INFO - API called: /videoEditAligned
2023-08-05 17:46:50 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805174417586/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.3229,0.078)':volume=0[a0]" -map "[a0]" -y media/20230805174417586/modified_video.mp4
[2023-08-05 17:46:50] - DEBUG - /usr/bin/ffmpeg -i media/20230805174417586/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.3229,0.078)':volume=0[a0]" -map "[a0]" -y media/20230805174417586/modified_video.mp4
[2023-08-05 17:47:15] - INFO - API called: /videoEditAligned
2023-08-05 17:47:17 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805174417586/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.38,0.78)':volume=0[a0]" -map "[a0]" -y media/20230805174417586/modified_video.mp4
[2023-08-05 17:47:17] - DEBUG - /usr/bin/ffmpeg -i media/20230805174417586/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.38,0.78)':volume=0[a0]" -map "[a0]" -y media/20230805174417586/modified_video.mp4
[2023-08-05 17:47:32] - INFO - API called: /runMSAAligned
[2023-08-05 17:47:32] - INFO - 
[2023-08-05 17:47:32] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:47:32] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:47:32] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:47:32] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 17:47:32] - INFO - Data-Level Defence for 20230805174417586...
[2023-08-05 17:47:32] - INFO - Video MCI...
[2023-08-05 17:47:38] - INFO - Audio Denoising...
[2023-08-05 17:47:39] - INFO - Extracting features from original video 20230805174417586...
[2023-08-05 17:47:39] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:47:39] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:47:39] - INFO - Initializing BERT text feature extractor...
[2023-08-05 17:47:42] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 17:47:54] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:48:21] - INFO - CTC segmentation of 29 chars to 1.32s audio (65 indices).
[2023-08-05 17:48:21] - INFO - Feature file saved: 'media/20230805174417586/feat_original.pkl'.
[2023-08-05 17:48:21] - INFO - Extracting features from modified video 20230805174417586...
[2023-08-05 17:48:21] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:48:28] - INFO - CTC segmentation of 26 chars to 1.32s audio (65 indices).
[2023-08-05 17:48:28] - INFO - Feature file saved: 'media/20230805174417586/feat_modified.pkl'.
[2023-08-05 17:48:28] - INFO - Extracting features from defended video 20230805174417586...
[2023-08-05 17:48:28] - INFO - Extracting features from 'media/20230805174417586/defended_video.mp4'.
[2023-08-05 17:48:34] - INFO - CTC segmentation of 26 chars to 1.30s audio (64 indices).
[2023-08-05 17:48:34] - INFO - Feature file saved: 'media/20230805174417586/feat_defended.pkl'.
[2023-08-05 17:48:34] - INFO - Feature-Level Defence for 20230805174417586...
[2023-08-05 17:48:34] - INFO - Running MSA models for 20230805174417586...
[2023-08-05 17:48:34] - INFO - 
[2023-08-05 17:48:34] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:48:34] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:48:34] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:48:34] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 17:48:34] - INFO - 
[2023-08-05 17:48:34] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:48:34] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:48:34] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:48:34] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 17:48:34] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:48:34] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:48:35] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:48:35] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:48:39] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:48:40] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:48:43] - INFO - Extracting features from 'media/20230805174417586/defended_video.mp4'.
[2023-08-05 17:48:44] - INFO - Extracting features from 'media/20230805174417586/defended_video.mp4'.
[2023-08-05 17:48:54] - ERROR - Failed to extract video features with OpenFace from video_defended_video.
[2023-08-05 17:48:54] - ERROR - An Error Occured:
Traceback (most recent call last):
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 287, in run_single
    video_result = self._video_extract_single(in_file)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 160, in _video_extract_single
    video_result = self.video_extractor.extract(self.tmp_dir, name, tool_output=self.verbose>0)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 102, in extract
    raise e
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 90, in extract
    df = pd.read_csv(Path(img_dir) / (name + '.csv'))
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 211, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 331, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 950, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 605, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1442, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1735, in _make_engine
    self.handles = get_handle(
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/common.py", line 856, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/.MMSA-FET/tmp/tmp.csv'
[2023-08-05 17:48:54] - DEBUG - Removing temporary files.
[2023-08-05 17:48:54] - ERROR - [Errno 39] Directory not empty: '/home/zhangbaozheng/.MMSA-FET/tmp'
Traceback (most recent call last):
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 287, in run_single
    video_result = self._video_extract_single(in_file)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 160, in _video_extract_single
    video_result = self.video_extractor.extract(self.tmp_dir, name, tool_output=self.verbose>0)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 102, in extract
    raise e
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 90, in extract
    df = pd.read_csv(Path(img_dir) / (name + '.csv'))
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 211, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 331, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 950, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 605, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1442, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1735, in _make_engine
    self.handles = get_handle(
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/common.py", line 856, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/.MMSA-FET/tmp/tmp.csv'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/sharing/disk1/zhangbaozheng/code/Robust-MSA/app.py", line 436, in run_msa_aligned
    "vision": (vision_fet.run_single(video_defended_path))['vision']
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 340, in run_single
    self._remove_tmp_folder(self.tmp_dir)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 253, in _remove_tmp_folder
    shutil.rmtree(tmp_dir)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/shutil.py", line 731, in rmtree
    onerror(os.rmdir, path, sys.exc_info())
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/shutil.py", line 729, in rmtree
    os.rmdir(path)
OSError: [Errno 39] Directory not empty: '/home/zhangbaozheng/.MMSA-FET/tmp'
[2023-08-05 17:49:01] - INFO - API called: /runMSAAligned
[2023-08-05 17:49:01] - INFO - 
[2023-08-05 17:49:01] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:49:01] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:49:01] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:49:01] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 17:49:01] - INFO - Data-Level Defence for 20230805174417586...
[2023-08-05 17:49:01] - INFO - Audio Denoising...
[2023-08-05 17:49:02] - INFO - Extracting features from original video 20230805174417586...
[2023-08-05 17:49:02] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:49:02] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:49:02] - INFO - Initializing BERT text feature extractor...
[2023-08-05 17:49:05] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 17:49:16] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:49:24] - INFO - CTC segmentation of 29 chars to 1.32s audio (65 indices).
[2023-08-05 17:49:24] - WARNING - Output file 'media/20230805174417586/feat_original.pkl' already exists. Saving to 'media/20230805174417586/feat_original_1691228964.pkl' instead.
[2023-08-05 17:49:24] - INFO - Feature file saved: 'media/20230805174417586/feat_original_1691228964.pkl'.
[2023-08-05 17:49:24] - INFO - Extracting features from modified video 20230805174417586...
[2023-08-05 17:49:24] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:49:31] - INFO - CTC segmentation of 26 chars to 1.32s audio (65 indices).
[2023-08-05 17:49:31] - WARNING - Output file 'media/20230805174417586/feat_modified.pkl' already exists. Saving to 'media/20230805174417586/feat_modified_1691228971.pkl' instead.
[2023-08-05 17:49:31] - INFO - Feature file saved: 'media/20230805174417586/feat_modified_1691228971.pkl'.
[2023-08-05 17:49:31] - INFO - Extracting features from defended video 20230805174417586...
[2023-08-05 17:49:31] - INFO - Extracting features from 'media/20230805174417586/defended_video.mp4'.
[2023-08-05 17:49:38] - INFO - CTC segmentation of 26 chars to 1.30s audio (64 indices).
[2023-08-05 17:49:38] - WARNING - Output file 'media/20230805174417586/feat_defended.pkl' already exists. Saving to 'media/20230805174417586/feat_defended_1691228978.pkl' instead.
[2023-08-05 17:49:38] - INFO - Feature file saved: 'media/20230805174417586/feat_defended_1691228978.pkl'.
[2023-08-05 17:49:38] - INFO - Feature-Level Defence for 20230805174417586...
[2023-08-05 17:49:38] - INFO - Running MSA models for 20230805174417586...
[2023-08-05 17:49:38] - INFO - 
[2023-08-05 17:49:38] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:49:38] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:49:38] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:49:38] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 17:49:38] - INFO - 
[2023-08-05 17:49:38] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:49:38] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:49:38] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:49:38] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 17:49:38] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:49:38] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:49:39] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:49:39] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:49:48] - ERROR - Failed to extract video features with OpenFace from video_raw_video.
[2023-08-05 17:49:48] - ERROR - An Error Occured:
Traceback (most recent call last):
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 287, in run_single
    video_result = self._video_extract_single(in_file)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 160, in _video_extract_single
    video_result = self.video_extractor.extract(self.tmp_dir, name, tool_output=self.verbose>0)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 102, in extract
    raise e
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 90, in extract
    df = pd.read_csv(Path(img_dir) / (name + '.csv'))
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 211, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 331, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 950, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 605, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1442, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1735, in _make_engine
    self.handles = get_handle(
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/common.py", line 856, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/.MMSA-FET/tmp/tmp.csv'
[2023-08-05 17:49:48] - DEBUG - Removing temporary files.
[2023-08-05 17:49:48] - ERROR - [Errno 2] No such file or directory: '/home/zhangbaozheng/.MMSA-FET/tmp/tmp.csv'
Traceback (most recent call last):
  File "/home/sharing/disk1/zhangbaozheng/code/Robust-MSA/app.py", line 415, in run_msa_aligned
    "vision": (vision_fet.run_single(video_original_path))['vision']
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 341, in run_single
    raise e
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 287, in run_single
    video_result = self._video_extract_single(in_file)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/single.py", line 160, in _video_extract_single
    video_result = self.video_extractor.extract(self.tmp_dir, name, tool_output=self.verbose>0)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 102, in extract
    raise e
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/MSA_FET/extractors/video/openface.py", line 90, in extract
    df = pd.read_csv(Path(img_dir) / (name + '.csv'))
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 211, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/util/_decorators.py", line 331, in wrapper
    return func(*args, **kwargs)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 950, in read_csv
    return _read(filepath_or_buffer, kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 605, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1442, in __init__
    self._engine = self._make_engine(f, self.engine)
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/parsers/readers.py", line 1735, in _make_engine
    self.handles = get_handle(
  File "/home/sharing/disk3/zhangbaozheng/miniconda3/envs/ex/lib/python3.10/site-packages/pandas/io/common.py", line 856, in get_handle
    handle = open(
FileNotFoundError: [Errno 2] No such file or directory: '/home/zhangbaozheng/.MMSA-FET/tmp/tmp.csv'
[2023-08-05 17:49:55] - INFO - API called: /runMSAAligned
[2023-08-05 17:49:55] - INFO - 
[2023-08-05 17:49:55] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:49:55] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:49:55] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:49:55] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 17:49:55] - INFO - Data-Level Defence for 20230805174417586...
[2023-08-05 17:49:55] - INFO - Extracting features from original video 20230805174417586...
[2023-08-05 17:49:55] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:49:55] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:49:55] - INFO - Initializing BERT text feature extractor...
[2023-08-05 17:49:58] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 17:50:08] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:50:14] - INFO - CTC segmentation of 29 chars to 1.32s audio (65 indices).
[2023-08-05 17:50:14] - WARNING - Output file 'media/20230805174417586/feat_original.pkl' already exists. Saving to 'media/20230805174417586/feat_original_1691229014.pkl' instead.
[2023-08-05 17:50:14] - INFO - Feature file saved: 'media/20230805174417586/feat_original_1691229014.pkl'.
[2023-08-05 17:50:14] - INFO - Extracting features from modified video 20230805174417586...
[2023-08-05 17:50:14] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:50:19] - INFO - CTC segmentation of 26 chars to 1.32s audio (65 indices).
[2023-08-05 17:50:19] - WARNING - Output file 'media/20230805174417586/feat_modified.pkl' already exists. Saving to 'media/20230805174417586/feat_modified_1691229019.pkl' instead.
[2023-08-05 17:50:19] - INFO - Feature file saved: 'media/20230805174417586/feat_modified_1691229019.pkl'.
[2023-08-05 17:50:19] - INFO - Feature-Level Defence for 20230805174417586...
[2023-08-05 17:50:19] - INFO - Running MSA models for 20230805174417586...
[2023-08-05 17:50:19] - INFO - 
[2023-08-05 17:50:19] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:50:19] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:50:19] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:50:19] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 17:50:19] - INFO - 
[2023-08-05 17:50:19] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:50:19] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:50:19] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:50:19] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 17:50:19] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:50:19] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:50:20] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:50:20] - INFO - Extracting features from 'media/20230805174417586/raw_video.mp4'.
[2023-08-05 17:50:22] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:50:23] - INFO - Extracting features from 'media/20230805174417586/modified_video.mp4'.
[2023-08-05 17:55:52] - INFO - API called: /uploadVideo
[2023-08-05 17:55:52] - INFO - Uploaded video, ID: 20230805175552361
[2023-08-05 17:55:52] - INFO - Converting video 20230805175552361 to mp4...
[2023-08-05 17:55:53] - INFO - Conversion done.
[2023-08-05 17:55:53] - INFO - API called: /callASR
[2023-08-05 17:55:53] - INFO - Extracting audio from 20230805175552361...
[2023-08-05 17:55:53] - INFO - Extraction done.
[2023-08-05 17:55:53] - INFO - Running ASR for 20230805175552361...
[2023-08-05 17:55:59] - INFO - ASR done.
[2023-08-05 17:56:04] - INFO - API called: /uploadTranscript
[2023-08-05 17:56:04] - INFO - Running alignment for 20230805175552361...
[2023-08-05 17:56:09] - INFO - CTC segmentation of 29 chars to 1.32s audio (65 indices).
[2023-08-05 17:56:09] - INFO - Alignment done.
[2023-08-05 17:57:07] - INFO - API called: /videoEditAligned
2023-08-05 17:57:08 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805175552361/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0713,0.1934)':volume=0[a0]" -map "[a0]" -y media/20230805175552361/modified_video.mp4
[2023-08-05 17:57:08] - DEBUG - /usr/bin/ffmpeg -i media/20230805175552361/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0713,0.1934)':volume=0[a0]" -map "[a0]" -y media/20230805175552361/modified_video.mp4
[2023-08-05 17:57:31] - INFO - API called: /videoEditAligned
2023-08-05 17:57:32 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230805175552361/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0713,0.1934)':volume=0[a0]" -map "[a0]" -y media/20230805175552361/modified_video.mp4
[2023-08-05 17:57:32] - DEBUG - /usr/bin/ffmpeg -i media/20230805175552361/raw_video.mp4 -c:v copy -map 0:v -filter_complex "[0:a]volume=enable='between(t,0.0713,0.1934)':volume=0[a0]" -map "[a0]" -y media/20230805175552361/modified_video.mp4
[2023-08-05 17:57:33] - INFO - Extracting audio from 20230805175552361...
[2023-08-05 17:57:34] - INFO - Extraction done.
[2023-08-05 17:57:34] - INFO - Running ASR for 20230805175552361...
[2023-08-05 17:57:40] - INFO - Running alignment for 20230805175552361...
[2023-08-05 17:57:45] - INFO - CTC segmentation of 22 chars to 1.32s audio (65 indices).
[2023-08-05 17:57:45] - INFO - Alignment done.
[2023-08-05 17:58:20] - INFO - API called: /runMSAAligned
[2023-08-05 17:58:20] - INFO - 
[2023-08-05 17:58:20] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:58:20] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:58:20] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:58:20] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-05 17:58:20] - INFO - Data-Level Defence for 20230805175552361...
[2023-08-05 17:58:20] - INFO - Audio Denoising...
[2023-08-05 17:58:21] - INFO - Extracting features from original video 20230805175552361...
[2023-08-05 17:58:21] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:58:21] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:58:21] - INFO - Initializing BERT text feature extractor...
[2023-08-05 17:58:24] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-05 17:58:29] - INFO - Extracting features from 'media/20230805175552361/raw_video.mp4'.
[2023-08-05 17:58:33] - INFO - CTC segmentation of 22 chars to 1.32s audio (65 indices).
[2023-08-05 17:58:33] - INFO - Feature file saved: 'media/20230805175552361/feat_original.pkl'.
[2023-08-05 17:58:33] - INFO - Extracting features from modified video 20230805175552361...
[2023-08-05 17:58:33] - INFO - Extracting features from 'media/20230805175552361/modified_video.mp4'.
[2023-08-05 17:58:37] - INFO - CTC segmentation of 22 chars to 1.32s audio (65 indices).
[2023-08-05 17:58:37] - INFO - Feature file saved: 'media/20230805175552361/feat_modified.pkl'.
[2023-08-05 17:58:37] - INFO - Extracting features from defended video 20230805175552361...
[2023-08-05 17:58:37] - INFO - Extracting features from 'media/20230805175552361/defended_video.mp4'.
[2023-08-05 17:58:41] - INFO - CTC segmentation of 22 chars to 1.30s audio (64 indices).
[2023-08-05 17:58:41] - INFO - Feature file saved: 'media/20230805175552361/feat_defended.pkl'.
[2023-08-05 17:58:41] - INFO - Feature-Level Defence for 20230805175552361...
[2023-08-05 17:58:41] - INFO - Running MSA models for 20230805175552361...
[2023-08-05 17:58:41] - INFO - 
[2023-08-05 17:58:41] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:58:41] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:58:41] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:58:41] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-05 17:58:41] - INFO - 
[2023-08-05 17:58:41] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-05 17:58:41] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-05 17:58:41] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-05 17:58:41] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-05 17:58:41] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-05 17:58:41] - INFO - Extracting features from 'media/20230805175552361/raw_video.mp4'.
[2023-08-05 17:58:42] - INFO - Initializing OpenFace video feature extractor...
[2023-08-05 17:58:42] - INFO - Extracting features from 'media/20230805175552361/raw_video.mp4'.
[2023-08-05 17:58:43] - INFO - Extracting features from 'media/20230805175552361/modified_video.mp4'.
[2023-08-05 17:58:44] - INFO - Extracting features from 'media/20230805175552361/modified_video.mp4'.
[2023-08-05 17:58:46] - INFO - Extracting features from 'media/20230805175552361/defended_video.mp4'.
[2023-08-05 17:58:47] - INFO - Extracting features from 'media/20230805175552361/defended_video.mp4'.
[2023-08-07 08:56:30] - INFO - API called: /uploadVideo
[2023-08-07 08:56:30] - INFO - Uploaded video, ID: 20230807085630137
[2023-08-07 08:56:30] - INFO - Converting video 20230807085630137 to mp4...
[2023-08-07 08:56:31] - INFO - Conversion done.
[2023-08-07 08:56:31] - INFO - API called: /callASR
[2023-08-07 08:56:31] - INFO - Extracting audio from 20230807085630137...
[2023-08-07 08:56:32] - INFO - Extraction done.
[2023-08-07 08:56:32] - INFO - Running ASR for 20230807085630137...
[2023-08-07 08:56:41] - INFO - ASR done.
[2023-08-07 08:56:51] - INFO - API called: /uploadTranscript
[2023-08-07 08:56:51] - INFO - Running alignment for 20230807085630137...
[2023-08-07 08:56:58] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 08:56:58] - INFO - Alignment done.
[2023-08-07 09:00:28] - INFO - API called: /videoEditAligned
2023-08-07 09:00:29 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=5.7294:c=white:r=16000:a=1 -y media/20230807085630137/tmp/an_0.wav
[2023-08-07 09:00:29] - DEBUG - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=5.7294:c=white:r=16000:a=1 -y media/20230807085630137/tmp/an_0.wav
2023-08-07 09:00:30 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807085630137/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,5.6994,6.2603)':color=black:t=fill[v0];[v0]drawbox=enable='between(t,7.302,7.5024)':color=black:t=fill[v1];[v1]drawbox=enable='between(t,8.0633,8.8746)':color=black:t=fill[v2]" -map "[v2]" -c:a copy -map 0:a -y media/20230807085630137/modified_video.mp4
[2023-08-07 09:00:30] - DEBUG - /usr/bin/ffmpeg -i media/20230807085630137/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,5.6994,6.2603)':color=black:t=fill[v0];[v0]drawbox=enable='between(t,7.302,7.5024)':color=black:t=fill[v1];[v1]drawbox=enable='between(t,8.0633,8.8746)':color=black:t=fill[v2]" -map "[v2]" -c:a copy -map 0:a -y media/20230807085630137/modified_video.mp4
2023-08-07 09:00:32 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807085630137/modified_video.mp4.tmp -i media/20230807085630137/tmp/an_0.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=1071.8000000000002|1071.8000000000002[resample1];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807085630137/modified_video.mp4
[2023-08-07 09:00:32] - DEBUG - /usr/bin/ffmpeg -i media/20230807085630137/modified_video.mp4.tmp -i media/20230807085630137/tmp/an_0.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=1071.8000000000002|1071.8000000000002[resample1];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807085630137/modified_video.mp4
[2023-08-07 09:00:57] - INFO - API called: /runMSAAligned
[2023-08-07 09:00:57] - INFO - 
[2023-08-07 09:00:57] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:00:57] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:00:57] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:00:57] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-07 09:00:58] - INFO - Data-Level Defence for 20230807085630137...
[2023-08-07 09:00:58] - INFO - Audio Denoising...
[2023-08-07 09:00:59] - INFO - Extracting features from original video 20230807085630137...
[2023-08-07 09:00:59] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:00:59] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:00:59] - INFO - Initializing BERT text feature extractor...
[2023-08-07 09:01:02] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-07 09:01:08] - INFO - Extracting features from 'media/20230807085630137/raw_video.mp4'.
[2023-08-07 09:01:24] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 09:01:24] - INFO - Feature file saved: 'media/20230807085630137/feat_original.pkl'.
[2023-08-07 09:01:24] - INFO - Extracting features from modified video 20230807085630137...
[2023-08-07 09:01:24] - INFO - Extracting features from 'media/20230807085630137/modified_video.mp4'.
[2023-08-07 09:01:40] - INFO - CTC segmentation of 133 chars to 12.29s audio (614 indices).
[2023-08-07 09:01:40] - INFO - Feature file saved: 'media/20230807085630137/feat_modified.pkl'.
[2023-08-07 09:01:40] - INFO - Extracting features from defended video 20230807085630137...
[2023-08-07 09:01:40] - INFO - Extracting features from 'media/20230807085630137/defended_video.mp4'.
[2023-08-07 09:01:56] - INFO - CTC segmentation of 133 chars to 12.29s audio (614 indices).
[2023-08-07 09:01:56] - INFO - Feature file saved: 'media/20230807085630137/feat_defended.pkl'.
[2023-08-07 09:01:56] - INFO - Feature-Level Defence for 20230807085630137...
[2023-08-07 09:01:56] - INFO - Running MSA models for 20230807085630137...
[2023-08-07 09:01:56] - INFO - 
[2023-08-07 09:01:56] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:01:56] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:01:56] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:01:56] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-07 09:01:56] - INFO - 
[2023-08-07 09:01:56] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:01:56] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:01:56] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:01:56] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-07 09:01:56] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:01:56] - INFO - Extracting features from 'media/20230807085630137/raw_video.mp4'.
[2023-08-07 09:01:57] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:01:57] - INFO - Extracting features from 'media/20230807085630137/raw_video.mp4'.
[2023-08-07 09:02:03] - INFO - Extracting features from 'media/20230807085630137/modified_video.mp4'.
[2023-08-07 09:02:04] - INFO - Extracting features from 'media/20230807085630137/modified_video.mp4'.
[2023-08-07 09:02:10] - INFO - Extracting features from 'media/20230807085630137/defended_video.mp4'.
[2023-08-07 09:02:11] - INFO - Extracting features from 'media/20230807085630137/defended_video.mp4'.
[2023-08-07 09:08:40] - INFO - API called: /uploadVideo
[2023-08-07 09:08:40] - INFO - Uploaded video, ID: 20230807090840357
[2023-08-07 09:08:40] - INFO - Converting video 20230807090840357 to mp4...
[2023-08-07 09:08:41] - INFO - Conversion done.
[2023-08-07 09:08:42] - INFO - API called: /callASR
[2023-08-07 09:08:42] - INFO - Extracting audio from 20230807090840357...
[2023-08-07 09:08:42] - INFO - Extraction done.
[2023-08-07 09:08:42] - INFO - Running ASR for 20230807090840357...
[2023-08-07 09:08:51] - INFO - ASR done.
[2023-08-07 09:09:40] - INFO - API called: /uploadVideo
[2023-08-07 09:09:40] - INFO - Uploaded video, ID: 20230807090940830
[2023-08-07 09:09:40] - INFO - Converting video 20230807090940830 to mp4...
[2023-08-07 09:09:41] - INFO - Conversion done.
[2023-08-07 09:09:41] - INFO - API called: /callASR
[2023-08-07 09:09:41] - INFO - Extracting audio from 20230807090940830...
[2023-08-07 09:09:42] - INFO - Extraction done.
[2023-08-07 09:09:42] - INFO - Running ASR for 20230807090940830...
[2023-08-07 09:09:48] - INFO - ASR done.
[2023-08-07 09:09:54] - INFO - API called: /uploadTranscript
[2023-08-07 09:09:54] - INFO - Running alignment for 20230807090940830...
[2023-08-07 09:10:00] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 09:10:00] - INFO - Alignment done.
[2023-08-07 09:13:14] - INFO - API called: /uploadVideo
[2023-08-07 09:13:14] - INFO - Uploaded video, ID: 20230807091314696
[2023-08-07 09:13:14] - INFO - Converting video 20230807091314696 to mp4...
[2023-08-07 09:13:16] - INFO - Conversion done.
[2023-08-07 09:13:16] - INFO - API called: /callASR
[2023-08-07 09:13:16] - INFO - Extracting audio from 20230807091314696...
[2023-08-07 09:13:17] - INFO - Extraction done.
[2023-08-07 09:13:17] - INFO - Running ASR for 20230807091314696...
[2023-08-07 09:13:24] - INFO - ASR done.
[2023-08-07 09:13:31] - INFO - API called: /uploadTranscript
[2023-08-07 09:13:31] - INFO - Running alignment for 20230807091314696...
[2023-08-07 09:13:37] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 09:13:37] - INFO - Alignment done.
[2023-08-07 09:14:55] - INFO - API called: /videoEditAligned
2023-08-07 09:14:56 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=6.05:c=white:r=16000:a=0.5 -y media/20230807091314696/tmp/an_0.wav
[2023-08-07 09:14:56] - DEBUG - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=6.05:c=white:r=16000:a=0.5 -y media/20230807091314696/tmp/an_0.wav
2023-08-07 09:14:57 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807091314696/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.0718,1.3923)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807091314696/modified_video.mp4
[2023-08-07 09:14:57] - DEBUG - /usr/bin/ffmpeg -i media/20230807091314696/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.0718,1.3923)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807091314696/modified_video.mp4
2023-08-07 09:14:58 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807091314696/modified_video.mp4.tmp -i media/20230807091314696/tmp/an_0.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=751.1999999999999|751.1999999999999[resample1];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807091314696/modified_video.mp4
[2023-08-07 09:14:58] - DEBUG - /usr/bin/ffmpeg -i media/20230807091314696/modified_video.mp4.tmp -i media/20230807091314696/tmp/an_0.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=751.1999999999999|751.1999999999999[resample1];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807091314696/modified_video.mp4
[2023-08-07 09:14:59] - INFO - Extracting audio from 20230807091314696...
[2023-08-07 09:14:59] - INFO - Extraction done.
[2023-08-07 09:14:59] - INFO - Running ASR for 20230807091314696...
[2023-08-07 09:15:06] - INFO - Running alignment for 20230807091314696...
[2023-08-07 09:15:11] - INFO - CTC segmentation of 58 chars to 12.29s audio (614 indices).
[2023-08-07 09:15:11] - INFO - Alignment done.
[2023-08-07 09:15:33] - INFO - API called: /runMSAAligned
[2023-08-07 09:15:33] - INFO - 
[2023-08-07 09:15:33] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:15:33] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:15:33] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:15:33] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-07 09:15:33] - INFO - Data-Level Defence for 20230807091314696...
[2023-08-07 09:15:33] - INFO - Audio Denoising...
[2023-08-07 09:15:34] - INFO - Extracting features from original video 20230807091314696...
[2023-08-07 09:15:34] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:15:35] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:15:35] - INFO - Initializing BERT text feature extractor...
[2023-08-07 09:15:37] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-07 09:15:43] - INFO - Extracting features from 'media/20230807091314696/raw_video.mp4'.
[2023-08-07 09:15:59] - INFO - CTC segmentation of 58 chars to 12.26s audio (612 indices).
[2023-08-07 09:15:59] - INFO - Feature file saved: 'media/20230807091314696/feat_original.pkl'.
[2023-08-07 09:15:59] - INFO - Extracting features from modified video 20230807091314696...
[2023-08-07 09:15:59] - INFO - Extracting features from 'media/20230807091314696/modified_video.mp4'.
[2023-08-07 09:16:14] - INFO - CTC segmentation of 58 chars to 12.29s audio (614 indices).
[2023-08-07 09:16:14] - INFO - Feature file saved: 'media/20230807091314696/feat_modified.pkl'.
[2023-08-07 09:16:14] - INFO - Extracting features from defended video 20230807091314696...
[2023-08-07 09:16:14] - INFO - Extracting features from 'media/20230807091314696/defended_video.mp4'.
[2023-08-07 09:16:29] - INFO - CTC segmentation of 58 chars to 12.29s audio (614 indices).
[2023-08-07 09:16:29] - INFO - Feature file saved: 'media/20230807091314696/feat_defended.pkl'.
[2023-08-07 09:16:29] - INFO - Feature-Level Defence for 20230807091314696...
[2023-08-07 09:16:29] - INFO - Running MSA models for 20230807091314696...
[2023-08-07 09:16:29] - INFO - 
[2023-08-07 09:16:29] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:16:29] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:16:29] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:16:29] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-07 09:16:29] - INFO - 
[2023-08-07 09:16:29] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:16:29] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:16:29] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:16:29] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-07 09:16:29] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:16:29] - INFO - Extracting features from 'media/20230807091314696/raw_video.mp4'.
[2023-08-07 09:16:30] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:16:30] - INFO - Extracting features from 'media/20230807091314696/raw_video.mp4'.
[2023-08-07 09:16:36] - INFO - Extracting features from 'media/20230807091314696/modified_video.mp4'.
[2023-08-07 09:16:37] - INFO - Extracting features from 'media/20230807091314696/modified_video.mp4'.
[2023-08-07 09:16:42] - INFO - Extracting features from 'media/20230807091314696/defended_video.mp4'.
[2023-08-07 09:16:43] - INFO - Extracting features from 'media/20230807091314696/defended_video.mp4'.
[2023-08-07 09:20:53] - INFO - API called: /uploadVideo
[2023-08-07 09:20:53] - INFO - Uploaded video, ID: 20230807092053235
[2023-08-07 09:20:53] - INFO - Converting video 20230807092053235 to mp4...
[2023-08-07 09:20:55] - INFO - Conversion done.
[2023-08-07 09:20:55] - INFO - API called: /callASR
[2023-08-07 09:20:55] - INFO - Extracting audio from 20230807092053235...
[2023-08-07 09:20:55] - INFO - Extraction done.
[2023-08-07 09:20:55] - INFO - Running ASR for 20230807092053235...
[2023-08-07 09:21:03] - INFO - ASR done.
[2023-08-07 09:21:12] - INFO - API called: /uploadTranscript
[2023-08-07 09:21:12] - INFO - Running alignment for 20230807092053235...
[2023-08-07 09:21:19] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 09:21:19] - INFO - Alignment done.
[2023-08-07 09:22:22] - INFO - API called: /videoEditAligned
2023-08-07 09:22:24 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=6.05:c=white:r=16000:a=0.5 -y media/20230807092053235/tmp/an_0.wav
[2023-08-07 09:22:24] - DEBUG - /usr/bin/ffmpeg -f lavfi -i anoisesrc=d=6.05:c=white:r=16000:a=0.5 -y media/20230807092053235/tmp/an_0.wav
2023-08-07 09:22:24 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807092053235/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,5.6994,6.2603)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807092053235/modified_video.mp4
[2023-08-07 09:22:24] - DEBUG - /usr/bin/ffmpeg -i media/20230807092053235/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,5.6994,6.2603)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807092053235/modified_video.mp4
2023-08-07 09:22:26 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807092053235/modified_video.mp4.tmp -i media/20230807092053235/tmp/an_0.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=751.1999999999999|751.1999999999999[resample1];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807092053235/modified_video.mp4
[2023-08-07 09:22:26] - DEBUG - /usr/bin/ffmpeg -i media/20230807092053235/modified_video.mp4.tmp -i media/20230807092053235/tmp/an_0.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,adelay=751.1999999999999|751.1999999999999[resample1];[resample0][resample1]amix=inputs=2:duration=first:dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807092053235/modified_video.mp4
[2023-08-07 09:22:50] - INFO - API called: /runMSAAligned
[2023-08-07 09:22:50] - INFO - 
[2023-08-07 09:22:50] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:22:50] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:22:50] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:22:50] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-07 09:22:50] - INFO - Data-Level Defence for 20230807092053235...
[2023-08-07 09:22:50] - INFO - Audio Denoising...
[2023-08-07 09:22:51] - INFO - Extracting features from original video 20230807092053235...
[2023-08-07 09:22:51] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:22:51] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:22:51] - INFO - Initializing BERT text feature extractor...
[2023-08-07 09:22:53] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-07 09:22:59] - INFO - Extracting features from 'media/20230807092053235/raw_video.mp4'.
[2023-08-07 09:23:15] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 09:23:15] - INFO - Feature file saved: 'media/20230807092053235/feat_original.pkl'.
[2023-08-07 09:23:15] - INFO - Extracting features from modified video 20230807092053235...
[2023-08-07 09:23:15] - INFO - Extracting features from 'media/20230807092053235/modified_video.mp4'.
[2023-08-07 09:23:30] - INFO - CTC segmentation of 136 chars to 12.29s audio (614 indices).
[2023-08-07 09:23:30] - INFO - Feature file saved: 'media/20230807092053235/feat_modified.pkl'.
[2023-08-07 09:23:30] - INFO - Extracting features from defended video 20230807092053235...
[2023-08-07 09:23:30] - INFO - Extracting features from 'media/20230807092053235/defended_video.mp4'.
[2023-08-07 09:23:45] - INFO - CTC segmentation of 136 chars to 12.29s audio (614 indices).
[2023-08-07 09:23:45] - INFO - Feature file saved: 'media/20230807092053235/feat_defended.pkl'.
[2023-08-07 09:23:45] - INFO - Feature-Level Defence for 20230807092053235...
[2023-08-07 09:23:45] - INFO - Running MSA models for 20230807092053235...
[2023-08-07 09:23:45] - INFO - 
[2023-08-07 09:23:45] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:23:45] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:23:45] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:23:45] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-07 09:23:45] - INFO - 
[2023-08-07 09:23:45] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:23:45] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:23:45] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:23:45] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-07 09:23:45] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:23:45] - INFO - Extracting features from 'media/20230807092053235/raw_video.mp4'.
[2023-08-07 09:23:46] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:23:46] - INFO - Extracting features from 'media/20230807092053235/raw_video.mp4'.
[2023-08-07 09:23:51] - INFO - Extracting features from 'media/20230807092053235/modified_video.mp4'.
[2023-08-07 09:23:52] - INFO - Extracting features from 'media/20230807092053235/modified_video.mp4'.
[2023-08-07 09:23:58] - INFO - Extracting features from 'media/20230807092053235/defended_video.mp4'.
[2023-08-07 09:23:59] - INFO - Extracting features from 'media/20230807092053235/defended_video.mp4'.
[2023-08-07 09:31:43] - INFO - API called: /uploadVideo
[2023-08-07 09:31:43] - INFO - Uploaded video, ID: 20230807093143270
[2023-08-07 09:31:43] - INFO - Converting video 20230807093143270 to mp4...
[2023-08-07 09:31:45] - INFO - Conversion done.
[2023-08-07 09:31:45] - INFO - API called: /callASR
[2023-08-07 09:31:45] - INFO - Extracting audio from 20230807093143270...
[2023-08-07 09:31:45] - INFO - Extraction done.
[2023-08-07 09:31:45] - INFO - Running ASR for 20230807093143270...
[2023-08-07 09:31:52] - INFO - ASR done.
[2023-08-07 09:31:58] - INFO - API called: /uploadTranscript
[2023-08-07 09:31:58] - INFO - Running alignment for 20230807093143270...
[2023-08-07 09:32:05] - INFO - CTC segmentation of 133 chars to 12.26s audio (612 indices).
[2023-08-07 09:32:05] - INFO - Alignment done.
[2023-08-07 09:33:46] - INFO - API called: /uploadVideo
[2023-08-07 09:33:46] - INFO - Uploaded video, ID: 20230807093346606
[2023-08-07 09:33:46] - INFO - Converting video 20230807093346606 to mp4...
[2023-08-07 09:33:47] - INFO - Conversion done.
[2023-08-07 09:33:48] - INFO - API called: /callASR
[2023-08-07 09:33:48] - INFO - Extracting audio from 20230807093346606...
[2023-08-07 09:33:48] - INFO - Extraction done.
[2023-08-07 09:33:48] - INFO - Running ASR for 20230807093346606...
[2023-08-07 09:33:57] - INFO - ASR done.
[2023-08-07 09:34:03] - INFO - API called: /uploadTranscript
[2023-08-07 09:34:03] - INFO - Running alignment for 20230807093346606...
[2023-08-07 09:34:11] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-08-07 09:34:11] - INFO - Alignment done.
[2023-08-07 09:35:07] - INFO - API called: /videoEditAligned
2023-08-07 09:35:08 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807093346606/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807093346606/modified_video.mp4
[2023-08-07 09:35:08] - DEBUG - /usr/bin/ffmpeg -i media/20230807093346606/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807093346606/modified_video.mp4
2023-08-07 09:35:10 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807093346606/modified_video.mp4.tmp -i /home/sharing/disk1/zhangbaozheng/code/Robust-MSA/model_api/assets/noise/background/park.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,atrim=186.63264413974065:186.89424413974066,adelay=1197.4|1197.4[resample1];[resample0][resample1]amix=inputs=2:duration=first:weights='1 1':dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807093346606/modified_video.mp4
[2023-08-07 09:35:10] - DEBUG - /usr/bin/ffmpeg -i media/20230807093346606/modified_video.mp4.tmp -i /home/sharing/disk1/zhangbaozheng/code/Robust-MSA/model_api/assets/noise/background/park.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,atrim=186.63264413974065:186.89424413974066,adelay=1197.4|1197.4[resample1];[resample0][resample1]amix=inputs=2:duration=first:weights='1 1':dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807093346606/modified_video.mp4
[2023-08-07 09:35:17] - INFO - API called: /runMSAAligned
[2023-08-07 09:35:17] - INFO - 
[2023-08-07 09:35:17] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:35:17] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:35:17] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:35:17] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-07 09:35:17] - INFO - Data-Level Defence for 20230807093346606...
[2023-08-07 09:35:17] - INFO - Audio Denoising...
[2023-08-07 09:35:18] - INFO - Extracting features from original video 20230807093346606...
[2023-08-07 09:35:18] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:35:18] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:35:18] - INFO - Initializing BERT text feature extractor...
[2023-08-07 09:35:21] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-07 09:35:28] - INFO - Extracting features from 'media/20230807093346606/raw_video.mp4'.
[2023-08-07 09:35:34] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-08-07 09:35:34] - INFO - Feature file saved: 'media/20230807093346606/feat_original.pkl'.
[2023-08-07 09:35:34] - INFO - Extracting features from modified video 20230807093346606...
[2023-08-07 09:35:34] - INFO - Extracting features from 'media/20230807093346606/modified_video.mp4'.
[2023-08-07 09:35:39] - INFO - CTC segmentation of 51 chars to 2.43s audio (121 indices).
[2023-08-07 09:35:39] - INFO - Feature file saved: 'media/20230807093346606/feat_modified.pkl'.
[2023-08-07 09:35:39] - INFO - Extracting features from defended video 20230807093346606...
[2023-08-07 09:35:39] - INFO - Extracting features from 'media/20230807093346606/defended_video.mp4'.
[2023-08-07 09:35:45] - INFO - CTC segmentation of 51 chars to 2.43s audio (121 indices).
[2023-08-07 09:35:45] - INFO - Feature file saved: 'media/20230807093346606/feat_defended.pkl'.
[2023-08-07 09:35:45] - INFO - Feature-Level Defence for 20230807093346606...
[2023-08-07 09:35:45] - INFO - Running MSA models for 20230807093346606...
[2023-08-07 09:35:45] - INFO - 
[2023-08-07 09:35:45] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:35:45] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:35:45] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:35:45] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-07 09:35:45] - INFO - 
[2023-08-07 09:35:45] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:35:45] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:35:45] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:35:45] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-07 09:35:45] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:35:45] - INFO - Extracting features from 'media/20230807093346606/raw_video.mp4'.
[2023-08-07 09:35:46] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:35:46] - INFO - Extracting features from 'media/20230807093346606/raw_video.mp4'.
[2023-08-07 09:35:48] - INFO - Extracting features from 'media/20230807093346606/modified_video.mp4'.
[2023-08-07 09:35:49] - INFO - Extracting features from 'media/20230807093346606/modified_video.mp4'.
[2023-08-07 09:35:52] - INFO - Extracting features from 'media/20230807093346606/defended_video.mp4'.
[2023-08-07 09:35:52] - INFO - Extracting features from 'media/20230807093346606/defended_video.mp4'.
[2023-08-07 09:37:45] - INFO - API called: /uploadVideo
[2023-08-07 09:37:45] - INFO - Uploaded video, ID: 20230807093745585
[2023-08-07 09:37:45] - INFO - Converting video 20230807093745585 to mp4...
[2023-08-07 09:37:46] - INFO - Conversion done.
[2023-08-07 09:37:46] - INFO - API called: /callASR
[2023-08-07 09:37:46] - INFO - Extracting audio from 20230807093745585...
[2023-08-07 09:37:47] - INFO - Extraction done.
[2023-08-07 09:37:47] - INFO - Running ASR for 20230807093745585...
[2023-08-07 09:37:54] - INFO - ASR done.
[2023-08-07 09:37:59] - INFO - API called: /uploadTranscript
[2023-08-07 09:37:59] - INFO - Running alignment for 20230807093745585...
[2023-08-07 09:38:04] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-08-07 09:38:04] - INFO - Alignment done.
[2023-08-07 09:39:28] - INFO - API called: /uploadVideo
[2023-08-07 09:39:28] - INFO - Uploaded video, ID: 20230807093928716
[2023-08-07 09:39:28] - INFO - Converting video 20230807093928716 to mp4...
[2023-08-07 09:39:29] - INFO - Conversion done.
[2023-08-07 09:39:29] - INFO - API called: /callASR
[2023-08-07 09:39:29] - INFO - Extracting audio from 20230807093928716...
[2023-08-07 09:39:30] - INFO - Extraction done.
[2023-08-07 09:39:30] - INFO - Running ASR for 20230807093928716...
[2023-08-07 09:39:38] - INFO - ASR done.
[2023-08-07 09:39:43] - INFO - API called: /uploadTranscript
[2023-08-07 09:39:43] - INFO - Running alignment for 20230807093928716...
[2023-08-07 09:39:50] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-08-07 09:39:50] - INFO - Alignment done.
[2023-08-07 09:40:36] - INFO - API called: /videoEditAligned
2023-08-07 09:40:37 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807093928716/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807093928716/modified_video.mp4
[2023-08-07 09:40:37] - DEBUG - /usr/bin/ffmpeg -i media/20230807093928716/raw_video.mp4 -filter_complex "[0:v]drawbox=enable='between(t,1.459,1.8213)':color=black:t=fill[v0]" -map "[v0]" -c:a copy -map 0:a -y media/20230807093928716/modified_video.mp4
2023-08-07 09:40:39 - Robust-MSA [DEBUG] - /usr/bin/ffmpeg -i media/20230807093928716/modified_video.mp4.tmp -i /home/sharing/disk1/zhangbaozheng/code/Robust-MSA/model_api/assets/noise/background/park.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,atrim=103.51089305920588:103.77249305920589,adelay=1197.4|1197.4[resample1];[resample0][resample1]amix=inputs=2:duration=first:weights='1 1':dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807093928716/modified_video.mp4
[2023-08-07 09:40:39] - DEBUG - /usr/bin/ffmpeg -i media/20230807093928716/modified_video.mp4.tmp -i /home/sharing/disk1/zhangbaozheng/code/Robust-MSA/model_api/assets/noise/background/park.wav -filter_complex "[0:a]aresample=16000[resample0];[1:a]aresample=16000,atrim=103.51089305920588:103.77249305920589,adelay=1197.4|1197.4[resample1];[resample0][resample1]amix=inputs=2:duration=first:weights='1 1':dropout_transition=0[a0]" -map 0:v -c:v copy -map "[a0]" -y media/20230807093928716/modified_video.mp4
[2023-08-07 09:40:46] - INFO - API called: /runMSAAligned
[2023-08-07 09:40:46] - INFO - 
[2023-08-07 09:40:46] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:40:46] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:40:46] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:40:46] - INFO - Config: {'text': {'model': 'bert', 'device': 'cuda', 'pretrained': 'bert-base-uncased', 'args': {}}, 'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}, 'video': {'tool': 'openface', 'fps': 30, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}, 'align': {'tool': 'wav2vec', 'device': 'cuda', 'args': {'model_name': 'jonatasgrosman/wav2vec2-large-xlsr-53-english'}}}
[2023-08-07 09:40:47] - INFO - Data-Level Defence for 20230807093928716...
[2023-08-07 09:40:47] - INFO - Audio Denoising...
[2023-08-07 09:40:47] - INFO - Video MCI...
[2023-08-07 09:40:56] - INFO - Extracting features from original video 20230807093928716...
[2023-08-07 09:40:56] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:40:57] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:40:57] - INFO - Initializing BERT text feature extractor...
[2023-08-07 09:40:59] - INFO - Initializing Wav2vec2 Aligner...
[2023-08-07 09:41:06] - INFO - Extracting features from 'media/20230807093928716/raw_video.mp4'.
[2023-08-07 09:41:12] - INFO - CTC segmentation of 47 chars to 2.41s audio (120 indices).
[2023-08-07 09:41:12] - INFO - Feature file saved: 'media/20230807093928716/feat_original.pkl'.
[2023-08-07 09:41:12] - INFO - Extracting features from modified video 20230807093928716...
[2023-08-07 09:41:12] - INFO - Extracting features from 'media/20230807093928716/modified_video.mp4'.
[2023-08-07 09:41:17] - INFO - CTC segmentation of 51 chars to 2.43s audio (121 indices).
[2023-08-07 09:41:17] - INFO - Feature file saved: 'media/20230807093928716/feat_modified.pkl'.
[2023-08-07 09:41:17] - INFO - Extracting features from defended video 20230807093928716...
[2023-08-07 09:41:17] - INFO - Extracting features from 'media/20230807093928716/defended_video.mp4'.
[2023-08-07 09:41:23] - INFO - CTC segmentation of 51 chars to 2.43s audio (121 indices).
[2023-08-07 09:41:23] - INFO - Feature file saved: 'media/20230807093928716/feat_defended.pkl'.
[2023-08-07 09:41:23] - INFO - Feature-Level Defence for 20230807093928716...
[2023-08-07 09:41:23] - INFO - Running MSA models for 20230807093928716...
[2023-08-07 09:41:23] - INFO - 
[2023-08-07 09:41:23] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:41:23] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:41:23] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:41:23] - INFO - Config: {'audio': {'tool': 'opensmile', 'sample_rate': 16000, 'args': {'feature_set': 'eGeMAPSv02', 'feature_level': 'LowLevelDescriptors', 'start': None, 'end': None}}}
[2023-08-07 09:41:23] - INFO - 
[2023-08-07 09:41:23] - INFO - ========================== MMSA-FET Started ==========================
[2023-08-07 09:41:23] - INFO - Temporary directory: /home/zhangbaozheng/.MMSA-FET/tmp
[2023-08-07 09:41:23] - INFO - Log file: '/home/zhangbaozheng/.MMSA-FET/log/MMSA-FET.log'
[2023-08-07 09:41:23] - INFO - Config: {'video': {'tool': 'openface', 'fps': 10, 'multiFace': {'enable': False, 'device': 'cuda:0', 'facedetScale': 0.25, 'minTrack': 10, 'numFailedDet': 10, 'minFaceSize': 1, 'cropScale': 0.4}, 'average_over': 1, 'args': {'hogalign': False, 'simalign': False, 'nobadaligned': False, 'landmark_2D': True, 'landmark_3D': False, 'pdmparams': False, 'head_pose': False, 'action_units': True, 'gaze': False, 'tracked': False}}}
[2023-08-07 09:41:23] - INFO - Initializing openSMILE audio feature extractor...
[2023-08-07 09:41:23] - INFO - Extracting features from 'media/20230807093928716/raw_video.mp4'.
[2023-08-07 09:41:24] - INFO - Initializing OpenFace video feature extractor...
[2023-08-07 09:41:24] - INFO - Extracting features from 'media/20230807093928716/raw_video.mp4'.
[2023-08-07 09:41:27] - INFO - Extracting features from 'media/20230807093928716/modified_video.mp4'.
[2023-08-07 09:41:27] - INFO - Extracting features from 'media/20230807093928716/modified_video.mp4'.
[2023-08-07 09:41:30] - INFO - Extracting features from 'media/20230807093928716/defended_video.mp4'.
[2023-08-07 09:41:30] - INFO - Extracting features from 'media/20230807093928716/defended_video.mp4'.
